(()=>{"use strict";var t,n,e,r,o,i,s,a,c,h,u,l,f,p,d,y,w={426:(t,n,e)=>{e.d(n,{Z:()=>a});var r=e(15),o=e.n(r),i=e(645),s=e.n(i)()(o());s.push([t.id,'@charset "utf-8";\n\n* {\n  margin: 0px;\n  padding: 0px;\n}\n\nhtml,\nbody {\n  background-color: #555555;\n  color: #f0f0f0;\n  text-align: center;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  padding-top: 10px;\n}\n\ncanvas {\n  margin: 0px auto;\n}\n',"",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA,gBAAgB;;AAEhB;EACE,WAAW;EACX,YAAY;AACd;;AAEA;;EAEE,yBAAyB;EACzB,cAAc;EACd,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,iBAAiB;AACnB;;AAEA;EACE,gBAAgB;AAClB",sourcesContent:['@charset "utf-8";\n\n* {\n  margin: 0px;\n  padding: 0px;\n}\n\nhtml,\nbody {\n  background-color: #555555;\n  color: #f0f0f0;\n  text-align: center;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  padding-top: 10px;\n}\n\ncanvas {\n  margin: 0px auto;\n}\n'],sourceRoot:""}]);const a=s},645:t=>{t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=t(n);return n[2]?"@media ".concat(n[2]," {").concat(e,"}"):e})).join("")},n.i=function(t,e,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(o[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);r&&o[c[0]]||(e&&(c[2]?c[2]="".concat(e," and ").concat(c[2]):c[2]=e),n.push(c))}},n}},15:t=>{function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}t.exports=function(t){var e,r,o=(r=4,function(t){if(Array.isArray(t))return t}(e=t)||function(t,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var e=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(e.push(s.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return e}}(e,r)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[1],s=o[3];if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),h="/*# ".concat(c," */"),u=s.sources.map((function(t){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(t," */")}));return[i].concat(u).concat([h]).join("\n")}return[i].join("\n")}},379:(t,n,e)=>{var r,o=function(){var t={};return function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}t[n]=e}return t[n]}}(),i=[];function s(t){for(var n=-1,e=0;e<i.length;e++)if(i[e].identifier===t){n=e;break}return n}function a(t,n){for(var e={},r=[],o=0;o<t.length;o++){var a=t[o],c=n.base?a[0]+n.base:a[0],h=e[c]||0,u="".concat(c," ").concat(h);e[c]=h+1;var l=s(u),f={css:a[1],media:a[2],sourceMap:a[3]};-1!==l?(i[l].references++,i[l].updater(f)):i.push({identifier:u,updater:y(f,n),references:1}),r.push(u)}return r}function c(t){var n=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=e.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){n.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(n);else{var s=o(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}return n}var h,u=(h=[],function(t,n){return h[t]=n,h.filter(Boolean).join("\n")});function l(t,n,e,r){var o=e?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=u(n,o);else{var i=document.createTextNode(o),s=t.childNodes;s[n]&&t.removeChild(s[n]),s.length?t.insertBefore(i,s[n]):t.appendChild(i)}}function f(t,n,e){var r=e.css,o=e.media,i=e.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,d=0;function y(t,n){var e,r,o;if(n.singleton){var i=d++;e=p||(p=c(n)),r=l.bind(null,e,i,!1),o=l.bind(null,e,i,!0)}else e=c(n),r=f.bind(null,e,n),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)};return r(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;r(t=n)}else o()}}t.exports=function(t,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var e=a(t=t||[],n);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<e.length;r++){var o=s(e[r]);i[o].references--}for(var c=a(t,n),h=0;h<e.length;h++){var u=s(e[h]);0===i[u].references&&(i[u].updater(),i.splice(u,1))}e=c}}}},446:(t,n,e)=>{t.exports=e.p+"82300f5733384f973929.png"},18:(t,n,e)=>{t.exports=e.p+"4233d78f478d9acd0230.png"},734:(t,n,e)=>{t.exports=e.p+"ff33312c29e171e364d7.png"}},g={};function v(t){if(g[t])return g[t].exports;var n=g[t]={id:t,exports:{}};return w[t](n,n.exports,v),n.exports}v.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return v.d(n,{a:n}),n},v.d=(t,n)=>{for(var e in n)v.o(n,e)&&!v.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},v.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),v.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),(()=>{var t;v.g.importScripts&&(t=v.g.location+"");var n=v.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var e=n.getElementsByTagName("script");e.length&&(t=e[e.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),v.p=t})(),n=function(t){return t/360*Math.PI*2},t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)},e=function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},r=function(){function t(t,n){this.x=t,this.y=n}return t.prototype.set=function(t,n){this.x=t,this.y=n},t}(),o=function(t){function n(n,e){return t.call(this,n,e)||this}return e(n,t),n.prototype.setAngle=function(t){this.set(Math.cos(t),Math.sin(t))},n}(r),i=function(){function t(t,e,i,s,a,c,h){var u,l,f,p;void 0===h&&(h=0),this.ctx=t,this.position=new r(e,i),this.vector=new o(0,-1),this.width=s,this.height=a,this.angle=n(270),this.life=h,u=this,l=void 0,p=function(){var t;return function(t,n){var e,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;s;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=n.call(t,s)}catch(t){i=[6,t],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(n){switch(n.label){case 0:return t=this,[4,(e=c,new Promise((function(t,n){var r=new Image;r.addEventListener("load",(function(){t(r)})),r.src=e})))];case 1:return t.image=n.sent(),[2]}var e}))},new((f=void 0)||(f=Promise))((function(t,n){function e(t){try{o(p.next(t))}catch(t){n(t)}}function r(t){try{o(p.throw(t))}catch(t){n(t)}}function o(n){var o;n.done?t(n.value):(o=n.value,o instanceof f?o:new f((function(t){t(o)}))).then(e,r)}o((p=p.apply(u,l||[])).next())}))}return t.prototype.setVector=function(t,n){this.vector.set(t,n)},t.prototype.setVectorFromAngle=function(t){this.angle=t,this.vector.setAngle(t)},t.prototype.draw=function(){if(this.image){var t=this.width/2,n=this.height/2;this.ctx.drawImage(this.image,this.position.x-t,this.position.y-n,this.width,this.height)}},t.prototype.rotationDraw=function(){if(this.image){this.ctx.save(),this.ctx.translate(this.position.x,this.position.y),this.ctx.rotate(this.angle-1.5*Math.PI);var t=this.width/2,n=this.height/2;this.ctx.drawImage(this.image,-t,-n,this.width,this.height),this.ctx.restore()}},t.prototype.update=function(){},t.prototype.ready=function(){return!!this.image},t}(),s=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),a=function(t){function e(n,e,r,o,i,s,a){var c=t.call(this,e,r,o,i,s,a,0)||this;return c.speed=3,c.shotArray=[],c.singleShotArray=[],c.shotCheckCounter=0,c.shotInterval=10,c.isComing=!1,c.state=n,c}return s(e,t),e.prototype.update=function(){if(this.comingStart&&this.comingStartPosition&&this.comingEndPosition){var t=Date.now();if(this.isComing){var e=(t-this.comingStart)/1e3,r=this.comingStartPosition.y-50*e;r<=this.comingEndPosition.y&&(this.isComing=!1,r=this.comingEndPosition.y),this.position.set(this.position.x,r),t%100<50&&(this.ctx.globalAlpha=.5)}else if(this.state.isKeyDown.arrowLeft&&(this.position.x-=this.speed),this.state.isKeyDown.arrowRight&&(this.position.x+=this.speed),this.state.isKeyDown.arrowUp&&(this.position.y-=this.speed),this.state.isKeyDown.arrowDown&&(this.position.y+=this.speed),this.position.set(Math.min(Math.max(this.position.x,0),this.ctx.canvas.width),Math.min(Math.max(this.position.y,0),this.ctx.canvas.height)),this.state.isKeyDown.z&&this.shotCheckCounter>=0){for(var o=0;o<this.shotArray.length;o++)if(this.shotArray[o].life<=0){this.shotArray[o].set(this.position.x,this.position.y),this.shotCheckCounter=-this.shotInterval;break}for(o=0;o<this.singleShotArray.length;o+=2)if(this.singleShotArray[o].life<=0&&this.singleShotArray[o+1].life<=0){var i=n(280),s=n(260);this.singleShotArray[o].set(this.position.x,this.position.y),this.singleShotArray[o].setVectorFromAngle(i),this.singleShotArray[o+1].set(this.position.x,this.position.y),this.singleShotArray[o+1].setVectorFromAngle(s),this.shotCheckCounter=-this.shotInterval;break}}this.shotCheckCounter++,this.draw(),this.ctx.globalAlpha=1}},e.prototype.setShotArray=function(t,n){this.shotArray=t,this.singleShotArray=n},e.prototype.setComing=function(t,n,e,o){this.isComing=!0,this.comingStart=Date.now(),this.position.set(t,n),this.comingStartPosition=new r(t,n),this.comingEndPosition=new r(e,o)},e}(i),c=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),h=function(t){function n(n,e,r,o,i,s){var a=t.call(this,n,e,r,o,i,s,0)||this;return a.speed=7,a}return c(n,t),n.prototype.set=function(t,n){this.position.set(t,n),this.life=1},n.prototype.update=function(){this.life<=0||(this.position.y+this.height<0&&(this.life=0),this.position.x+=this.vector.x*this.speed,this.position.y+=this.vector.y*this.speed,this.rotationDraw())},n}(i),u=v(446),l=v(18),f=v(734),p=v(379),d=v.n(p),y=v(426),d()(y.Z,{insert:"head",singleton:!1}),y.Z.locals,window.addEventListener("load",(function(){return t=void 0,n=void 0,r=function(){function t(){var e,i,s;r.globalAlpha=1,e=r,i=n.width,s=n.height,e.fillStyle="#eeeeee",e.fillRect(0,0,i,s),o.forEach((function(t){return t.update()})),requestAnimationFrame(t)}var n,e,r,o,i,s,c;return function(t,n){var e,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;s;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=n.call(t,s)}catch(t){i=[6,t],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(p){return n=document.querySelector("#screen"),e={isKeyDown:{arrowLeft:!1,arrowRight:!1,arrowDown:!1,arrowUp:!1,z:!1}},n.width=640,n.height=480,r=n.getContext("2d"),o=[],i=new a(e,r,0,0,64,64,u),o.push(i),i.setComing(320,480,320,380),s=Array.from({length:10}).map((function(){return new h(r,0,0,32,32,l)})),c=Array.from({length:20}).map((function(){return new h(r,0,0,32,32,f)})),i.setShotArray(s,c),o.push.apply(o,function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;var r=Array(t),o=0;for(n=0;n<e;n++)for(var i=arguments[n],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}(s,c)),window.addEventListener("keydown",(function(t){switch(t.key){case"ArrowLeft":e.isKeyDown.arrowLeft=!0;break;case"ArrowRight":e.isKeyDown.arrowRight=!0;break;case"ArrowUp":e.isKeyDown.arrowUp=!0;break;case"ArrowDown":e.isKeyDown.arrowDown=!0;break;case"z":e.isKeyDown.z=!0}})),window.addEventListener("keyup",(function(t){switch(t.key){case"ArrowLeft":e.isKeyDown.arrowLeft=!1;break;case"ArrowRight":e.isKeyDown.arrowRight=!1;break;case"ArrowUp":e.isKeyDown.arrowUp=!1;break;case"ArrowDown":e.isKeyDown.arrowDown=!1;break;case"z":e.isKeyDown.z=!1}})),function n(){o.every((function(t){return t.ready()}))?(Date.now(),t()):setTimeout(n,100)}(),[2]}))},new((e=void 0)||(e=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,a)}c((r=r.apply(t,n||[])).next())}));var t,n,e,r}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW52YXMtZ2FtZS8uL3NyYy91dGlscy50cyIsIndlYnBhY2s6Ly9jYW52YXMtZ2FtZS8uL3NyYy9jaGFyYWN0ZXJzL2Jhc2UudHMiLCJ3ZWJwYWNrOi8vY2FudmFzLWdhbWUvLi9zcmMvY2hhcmFjdGVycy9wbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vY2FudmFzLWdhbWUvLi9zcmMvY2hhcmFjdGVycy9zaG90LnRzIiwid2VicGFjazovL2NhbnZhcy1nYW1lLy4vc3JjL3N0eWxlLmNzcyIsIndlYnBhY2s6Ly9jYW52YXMtZ2FtZS8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vY2FudmFzLWdhbWUvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qcyIsIndlYnBhY2s6Ly9jYW52YXMtZ2FtZS8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9jYW52YXMtZ2FtZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jYW52YXMtZ2FtZS93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9jYW52YXMtZ2FtZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vY2FudmFzLWdhbWUvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9jYW52YXMtZ2FtZS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2NhbnZhcy1nYW1lL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL2NhbnZhcy1nYW1lLy4vc3JjL3N0eWxlLmNzcz83MTYzIiwid2VicGFjazovL2NhbnZhcy1nYW1lLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL2NhbnZhcy1nYW1lLy4vc3JjL2FwcC50cyIsIndlYnBhY2s6Ly9jYW52YXMtZ2FtZS8uL3NyYy9jYW52YXMudHMiXSwibmFtZXMiOlsiZGVnVG9SYWQiLCJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsInB1c2giLCJtb2R1bGUiLCJpZCIsImV4cG9ydHMiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsIm1hcCIsIml0ZW0iLCJjb250ZW50IiwiY29uY2F0Iiwiam9pbiIsImkiLCJtb2R1bGVzIiwibWVkaWFRdWVyeSIsImRlZHVwZSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJsZW5ndGgiLCJfaSIsIl9hcnJheUxpa2VUb0FycmF5IiwiYXJyIiwibGVuIiwiYXJyMiIsIkFycmF5IiwiX2l0ZW0iLCJpc0FycmF5IiwiX2FycmF5V2l0aEhvbGVzIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJPYmplY3QiLCJfYXJyIiwiX24iLCJfZCIsIl9lIiwidW5kZWZpbmVkIiwiX3MiLCJuZXh0IiwiZG9uZSIsInZhbHVlIiwiZXJyIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwibyIsIm1pbkxlbiIsIm4iLCJwcm90b3R5cGUiLCJjYWxsIiwic2xpY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJmcm9tIiwidGVzdCIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIlR5cGVFcnJvciIsIl9ub25JdGVyYWJsZVJlc3QiLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwibWVtbyIsImdldFRhcmdldCIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInN0eWxlc0luRG9tIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibW9kdWxlc1RvRG9tIiwib3B0aW9ucyIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsImJhc2UiLCJjb3VudCIsImluZGV4Iiwib2JqIiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZFN0eWxlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsIm5vbmNlIiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsIkJvb2xlYW4iLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiZmlyc3RDaGlsZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJ1cGRhdGUiLCJzdHlsZUluZGV4IiwiYmluZCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJhbGwiLCJhdG9iIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pbmRleCIsInNwbGljZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJkZWZpbml0aW9uIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiZyIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJsb2NhdGlvbiIsImN1cnJlbnRTY3JpcHQiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJyZXBsYWNlIiwicCIsImRlZ3JlZXMiLCJNYXRoIiwiUEkiLCJ4IiwieSIsInNldCIsInNldEFuZ2xlIiwiYW5nbGUiLCJjb3MiLCJzaW4iLCJQb3NpdGlvbiIsImN0eCIsInciLCJoIiwiaW1hZ2VQYXRoIiwibGlmZSIsInBvc2l0aW9uIiwidmVjdG9yIiwiVmVjdG9yIiwid2lkdGgiLCJoZWlnaHQiLCJ1cmwiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImltYWdlIiwiSW1hZ2UiLCJhZGRFdmVudExpc3RlbmVyIiwic2V0VmVjdG9yIiwic2V0VmVjdG9yRnJvbUFuZ2xlIiwiZHJhdyIsIm9mZnNldFgiLCJvZmZzZXRZIiwiZHJhd0ltYWdlIiwicm90YXRpb25EcmF3Iiwic2F2ZSIsInRyYW5zbGF0ZSIsInJvdGF0ZSIsInJlc3RvcmUiLCJyZWFkeSIsInN0YXRlIiwic3BlZWQiLCJzaG90QXJyYXkiLCJzaW5nbGVTaG90QXJyYXkiLCJzaG90Q2hlY2tDb3VudGVyIiwic2hvdEludGVydmFsIiwiaXNDb21pbmciLCJjb21pbmdTdGFydCIsImNvbWluZ1N0YXJ0UG9zaXRpb24iLCJjb21pbmdFbmRQb3NpdGlvbiIsImp1c3RUaW1lIiwiRGF0ZSIsIm5vdyIsImNvbWluZ1RpbWUiLCJnbG9iYWxBbHBoYSIsImlzS2V5RG93biIsImFycm93TGVmdCIsImFycm93UmlnaHQiLCJhcnJvd1VwIiwiYXJyb3dEb3duIiwibWluIiwibWF4IiwiY2FudmFzIiwieiIsInJhZENXIiwicmFkQ0NXIiwic2V0U2hvdEFycmF5Iiwic2V0Q29taW5nIiwic3RhcnRYIiwic3RhcnRZIiwiZW5kWCIsImVuZFkiLCJDaGFyYWN0ZXIiLCJyZW5kZXIiLCJjb250ZXh0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJjaGFyYWN0ZXJzIiwiYyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImdldENvbnRleHQiLCJwbGF5ZXIiLCJQbGF5ZXIiLCJ2aXBlciIsIkNBTlZBU19XSURUSCIsIkNBTlZBU19IRUlHSFQiLCJTaG90IiwiU0hPVF9NQVhfQ09VTlQiLCJldmVudCIsIndhaXQiLCJldmVyeSIsInNldFRpbWVvdXQiXSwibWFwcGluZ3MiOiJ5QkFVYUEsRSxFQ0ViLEVBZUEsRUFVQSxFLEVDakNBLEUsRUNGQSxFLDRFQ0NJQyxFLE1BQTBCLEdBQTRCLEtBRTFEQSxFQUF3QkMsS0FBSyxDQUFDQyxFQUFPQyxHQUFJLDZRQUFnUixHQUFHLENBQUMsUUFBVSxFQUFFLFFBQVUsQ0FBQyw2QkFBNkIsTUFBUSxHQUFHLFNBQVcsb0tBQW9LLGVBQWlCLENBQUMsOFFBQWdSLFdBQWEsTUFFMTFCLFcsUUNDQUQsRUFBT0UsUUFBVSxTQUFVQyxHQUN6QixJQUFJQyxFQUFPLEdBdURYLE9BckRBQSxFQUFLQyxTQUFXLFdBQ2QsT0FBT0MsS0FBS0MsS0FBSSxTQUFVQyxHQUN4QixJQUFJQyxFQUFVTixFQUF1QkssR0FFckMsT0FBSUEsRUFBSyxHQUNBLFVBQVVFLE9BQU9GLEVBQUssR0FBSSxNQUFNRSxPQUFPRCxFQUFTLEtBR2xEQSxLQUNORSxLQUFLLEtBS1ZQLEVBQUtRLEVBQUksU0FBVUMsRUFBU0MsRUFBWUMsR0FDZixpQkFBWkYsSUFFVEEsRUFBVSxDQUFDLENBQUMsS0FBTUEsRUFBUyxNQUc3QixJQUFJRyxFQUF5QixHQUU3QixHQUFJRCxFQUNGLElBQUssSUFBSUgsRUFBSSxFQUFHQSxFQUFJTixLQUFLVyxPQUFRTCxJQUFLLENBRXBDLElBQUlYLEVBQUtLLEtBQUtNLEdBQUcsR0FFUCxNQUFOWCxJQUNGZSxFQUF1QmYsSUFBTSxHQUtuQyxJQUFL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TWUsVUFBVVEsR0FBSSxNQVExQixTQUFVMEIsSUFDUVosRUFBV2EsT0FBTSxTQUFDWixHQUFNLE9BQUFBLEVBQUV2QyxZQUs5QlksS0FBS0MsTUFDakJxQixLQUpFa0IsV0FBV0YsRUFBTSxLQUhyQixHLG9CQXBGa0IsSyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgbG9hZEltYWdlID0gKHVybDogc3RyaW5nKTogUHJvbWlzZTxIVE1MSW1hZ2VFbGVtZW50PiA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG4gICAgICByZXNvbHZlKGltYWdlKTtcbiAgICB9KTtcbiAgICBpbWFnZS5zcmMgPSB1cmw7XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlZ1RvUmFkID0gKGRlZ3JlZXM6IG51bWJlcik6IG51bWJlciA9PlxuICAoZGVncmVlcyAvIDM2MCkgKiBNYXRoLlBJICogMjtcbiIsImltcG9ydCB7IGxvYWRJbWFnZSwgZGVnVG9SYWQgfSBmcm9tIFwiLi4vdXRpbHNcIjtcblxuZXhwb3J0IHR5cGUgU3RhdGUgPSB7XG4gIGlzS2V5RG93bjoge1xuICAgIGFycm93TGVmdDogYm9vbGVhbjtcbiAgICBhcnJvd1JpZ2h0OiBib29sZWFuO1xuICAgIGFycm93VXA6IGJvb2xlYW47XG4gICAgYXJyb3dEb3duOiBib29sZWFuO1xuICAgIHo6IGJvb2xlYW47XG4gIH07XG59O1xuXG5leHBvcnQgY2xhc3MgUG9zaXRpb24ge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcblxuICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgfVxuXG4gIHNldCh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVmVjdG9yIGV4dGVuZHMgUG9zaXRpb24ge1xuICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIHN1cGVyKHgsIHkpO1xuICB9XG5cbiAgc2V0QW5nbGUoYW5nbGU6IG51bWJlcikge1xuICAgIHRoaXMuc2V0KE1hdGguY29zKGFuZ2xlKSwgTWF0aC5zaW4oYW5nbGUpKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyIHtcbiAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gIHBvc2l0aW9uOiBQb3NpdGlvbjtcbiAgYW5nbGU6IG51bWJlcjtcbiAgdmVjdG9yOiBWZWN0b3I7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xuICBsaWZlOiBudW1iZXI7XG4gIGltYWdlPzogSFRNTEltYWdlRWxlbWVudDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgICB4OiBudW1iZXIsXG4gICAgeTogbnVtYmVyLFxuICAgIHc6IG51bWJlcixcbiAgICBoOiBudW1iZXIsXG4gICAgaW1hZ2VQYXRoOiBzdHJpbmcsXG4gICAgbGlmZTogbnVtYmVyID0gMFxuICApIHtcbiAgICB0aGlzLmN0eCA9IGN0eDtcbiAgICB0aGlzLnBvc2l0aW9uID0gbmV3IFBvc2l0aW9uKHgsIHkpO1xuICAgIHRoaXMudmVjdG9yID0gbmV3IFZlY3RvcigwLjAsIC0xLjApO1xuICAgIHRoaXMud2lkdGggPSB3O1xuICAgIHRoaXMuaGVpZ2h0ID0gaDtcbiAgICB0aGlzLmFuZ2xlID0gZGVnVG9SYWQoMjcwKTtcbiAgICB0aGlzLmxpZmUgPSBsaWZlO1xuICAgIChhc3luYyAoKSA9PiB7XG4gICAgICB0aGlzLmltYWdlID0gYXdhaXQgbG9hZEltYWdlKGltYWdlUGF0aCk7XG4gICAgfSkoKTtcbiAgfVxuXG4gIHNldFZlY3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIHRoaXMudmVjdG9yLnNldCh4LCB5KTtcbiAgfVxuXG4gIHNldFZlY3RvckZyb21BbmdsZShhbmdsZTogbnVtYmVyKSB7XG4gICAgdGhpcy5hbmdsZSA9IGFuZ2xlO1xuICAgIHRoaXMudmVjdG9yLnNldEFuZ2xlKGFuZ2xlKTtcbiAgfVxuXG4gIGRyYXcoKSB7XG4gICAgaWYgKCF0aGlzLmltYWdlKSByZXR1cm47XG4gICAgY29uc3Qgb2Zmc2V0WCA9IHRoaXMud2lkdGggLyAyO1xuICAgIGNvbnN0IG9mZnNldFkgPSB0aGlzLmhlaWdodCAvIDI7XG4gICAgdGhpcy5jdHguZHJhd0ltYWdlKFxuICAgICAgdGhpcy5pbWFnZSxcbiAgICAgIHRoaXMucG9zaXRpb24ueCAtIG9mZnNldFgsXG4gICAgICB0aGlzLnBvc2l0aW9uLnkgLSBvZmZzZXRZLFxuICAgICAgdGhpcy53aWR0aCxcbiAgICAgIHRoaXMuaGVpZ2h0XG4gICAgKTtcbiAgfVxuXG4gIHJvdGF0aW9uRHJhdygpIHtcbiAgICBpZiAoIXRoaXMuaW1hZ2UpIHJldHVybjtcbiAgICB0aGlzLmN0eC5zYXZlKCk7XG4gICAgdGhpcy5jdHgudHJhbnNsYXRlKHRoaXMucG9zaXRpb24ueCwgdGhpcy5wb3NpdGlvbi55KTtcbiAgICB0aGlzLmN0eC5yb3RhdGUodGhpcy5hbmdsZSAtIE1hdGguUEkgKiAxLjUpO1xuXG4gICAgY29uc3Qgb2Zmc2V0WCA9IHRoaXMud2lkdGggLyAyO1xuICAgIGNvbnN0IG9mZnNldFkgPSB0aGlzLmhlaWdodCAvIDI7XG4gICAgdGhpcy5jdHguZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIC1vZmZzZXRYLCAtb2Zmc2V0WSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuXG4gICAgdGhpcy5jdHgucmVzdG9yZSgpO1xuICB9XG5cbiAgdXBkYXRlKCkge31cblxuICByZWFkeSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISF0aGlzLmltYWdlO1xuICB9XG59XG4iLCJpbXBvcnQgeyBTdGF0ZSwgQ2hhcmFjdGVyLCBQb3NpdGlvbiB9IGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCB7IFNob3QgfSBmcm9tIFwiLi9zaG90XCI7XG5pbXBvcnQgeyBkZWdUb1JhZCB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG5leHBvcnQgY2xhc3MgUGxheWVyIGV4dGVuZHMgQ2hhcmFjdGVyIHtcbiAgc3RhdGU6IFN0YXRlO1xuICBzcGVlZDogbnVtYmVyID0gMztcblxuICBzaG90QXJyYXk6IFNob3RbXSA9IFtdO1xuICBzaW5nbGVTaG90QXJyYXk6IFNob3RbXSA9IFtdO1xuICBzaG90Q2hlY2tDb3VudGVyID0gMDtcbiAgc2hvdEludGVydmFsID0gMTA7XG5cbiAgaXNDb21pbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgY29taW5nU3RhcnQ/OiBudW1iZXI7XG4gIGNvbWluZ1N0YXJ0UG9zaXRpb24/OiBQb3NpdGlvbjtcbiAgY29taW5nRW5kUG9zaXRpb24/OiBQb3NpdGlvbjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBzdGF0ZTogU3RhdGUsXG4gICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG4gICAgeDogbnVtYmVyLFxuICAgIHk6IG51bWJlcixcbiAgICB3OiBudW1iZXIsXG4gICAgaDogbnVtYmVyLFxuICAgIGltYWdlUGF0aDogc3RyaW5nXG4gICkge1xuICAgIHN1cGVyKGN0eCwgeCwgeSwgdywgaCwgaW1hZ2VQYXRoLCAwKTtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgaWYgKFxuICAgICAgIXRoaXMuY29taW5nU3RhcnQgfHxcbiAgICAgICF0aGlzLmNvbWluZ1N0YXJ0UG9zaXRpb24gfHxcbiAgICAgICF0aGlzLmNvbWluZ0VuZFBvc2l0aW9uXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGp1c3RUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgIGlmICh0aGlzLmlzQ29taW5nKSB7XG4gICAgICBjb25zdCBjb21pbmdUaW1lID0gKGp1c3RUaW1lIC0gdGhpcy5jb21pbmdTdGFydCkgLyAxMDAwO1xuICAgICAgbGV0IHkgPSB0aGlzLmNvbWluZ1N0YXJ0UG9zaXRpb24ueSAtIGNvbWluZ1RpbWUgKiA1MDtcbiAgICAgIGlmICh5IDw9IHRoaXMuY29taW5nRW5kUG9zaXRpb24ueSkge1xuICAgICAgICB0aGlzLmlzQ29taW5nID0gZmFsc2U7XG4gICAgICAgIHkgPSB0aGlzLmNvbWluZ0VuZFBvc2l0aW9uLnk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucG9zaXRpb24uc2V0KHRoaXMucG9zaXRpb24ueCwgeSk7XG4gICAgICBpZiAoanVzdFRpbWUgJSAxMDAgPCA1MCkge1xuICAgICAgICB0aGlzLmN0eC5nbG9iYWxBbHBoYSA9IDAuNTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuaXNLZXlEb3duLmFycm93TGVmdCkge1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnggLT0gdGhpcy5zcGVlZDtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzS2V5RG93bi5hcnJvd1JpZ2h0KSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueCArPSB0aGlzLnNwZWVkO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc3RhdGUuaXNLZXlEb3duLmFycm93VXApIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55IC09IHRoaXMuc3BlZWQ7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zdGF0ZS5pc0tleURvd24uYXJyb3dEb3duKSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueSArPSB0aGlzLnNwZWVkO1xuICAgICAgfVxuICAgICAgdGhpcy5wb3NpdGlvbi5zZXQoXG4gICAgICAgIE1hdGgubWluKE1hdGgubWF4KHRoaXMucG9zaXRpb24ueCwgMCksIHRoaXMuY3R4LmNhbnZhcy53aWR0aCksXG4gICAgICAgIE1hdGgubWluKE1hdGgubWF4KHRoaXMucG9zaXRpb24ueSwgMCksIHRoaXMuY3R4LmNhbnZhcy5oZWlnaHQpXG4gICAgICApO1xuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5pc0tleURvd24ueikge1xuICAgICAgICBpZiAodGhpcy5zaG90Q2hlY2tDb3VudGVyID49IDApIHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2hvdEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zaG90QXJyYXlbaV0ubGlmZSA8PSAwKSB7XG4gICAgICAgICAgICAgIHRoaXMuc2hvdEFycmF5W2ldLnNldCh0aGlzLnBvc2l0aW9uLngsIHRoaXMucG9zaXRpb24ueSk7XG4gICAgICAgICAgICAgIHRoaXMuc2hvdENoZWNrQ291bnRlciA9IC10aGlzLnNob3RJbnRlcnZhbDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zaW5nbGVTaG90QXJyYXkubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgdGhpcy5zaW5nbGVTaG90QXJyYXlbaV0ubGlmZSA8PSAwICYmXG4gICAgICAgICAgICAgIHRoaXMuc2luZ2xlU2hvdEFycmF5W2kgKyAxXS5saWZlIDw9IDBcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb25zdCByYWRDVyA9IGRlZ1RvUmFkKDI4MCk7XG4gICAgICAgICAgICAgIGNvbnN0IHJhZENDVyA9IGRlZ1RvUmFkKDI2MCk7XG4gICAgICAgICAgICAgIHRoaXMuc2luZ2xlU2hvdEFycmF5W2ldLnNldCh0aGlzLnBvc2l0aW9uLngsIHRoaXMucG9zaXRpb24ueSk7XG4gICAgICAgICAgICAgIHRoaXMuc2luZ2xlU2hvdEFycmF5W2ldLnNldFZlY3RvckZyb21BbmdsZShyYWRDVyk7XG4gICAgICAgICAgICAgIHRoaXMuc2luZ2xlU2hvdEFycmF5W2kgKyAxXS5zZXQodGhpcy5wb3NpdGlvbi54LCB0aGlzLnBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgICB0aGlzLnNpbmdsZVNob3RBcnJheVtpICsgMV0uc2V0VmVjdG9yRnJvbUFuZ2xlKHJhZENDVyk7XG4gICAgICAgICAgICAgIHRoaXMuc2hvdENoZWNrQ291bnRlciA9IC10aGlzLnNob3RJbnRlcnZhbDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc2hvdENoZWNrQ291bnRlcisrO1xuXG4gICAgdGhpcy5kcmF3KCk7XG4gICAgdGhpcy5jdHguZ2xvYmFsQWxwaGEgPSAxLjA7XG4gIH1cblxuICBzZXRTaG90QXJyYXkoc2hvdEFycmF5OiBTaG90W10sIHNpbmdsZVNob3RBcnJheTogU2hvdFtdKSB7XG4gICAgdGhpcy5zaG90QXJyYXkgPSBzaG90QXJyYXk7XG4gICAgdGhpcy5zaW5nbGVTaG90QXJyYXkgPSBzaW5nbGVTaG90QXJyYXk7XG4gIH1cblxuICBzZXRDb21pbmcoc3RhcnRYOiBudW1iZXIsIHN0YXJ0WTogbnVtYmVyLCBlbmRYOiBudW1iZXIsIGVuZFk6IG51bWJlcikge1xuICAgIHRoaXMuaXNDb21pbmcgPSB0cnVlO1xuICAgIHRoaXMuY29taW5nU3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMucG9zaXRpb24uc2V0KHN0YXJ0WCwgc3RhcnRZKTtcbiAgICB0aGlzLmNvbWluZ1N0YXJ0UG9zaXRpb24gPSBuZXcgUG9zaXRpb24oc3RhcnRYLCBzdGFydFkpO1xuICAgIHRoaXMuY29taW5nRW5kUG9zaXRpb24gPSBuZXcgUG9zaXRpb24oZW5kWCwgZW5kWSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IENoYXJhY3RlciB9IGZyb20gXCIuL2Jhc2VcIjtcblxuZXhwb3J0IGNsYXNzIFNob3QgZXh0ZW5kcyBDaGFyYWN0ZXIge1xuICBzcGVlZDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuICAgIHg6IG51bWJlcixcbiAgICB5OiBudW1iZXIsXG4gICAgdzogbnVtYmVyLFxuICAgIGg6IG51bWJlcixcbiAgICBpbWFnZVBhdGg6IHN0cmluZ1xuICApIHtcbiAgICBzdXBlcihjdHgsIHgsIHksIHcsIGgsIGltYWdlUGF0aCwgMCk7XG5cbiAgICB0aGlzLnNwZWVkID0gNztcbiAgfVxuXG4gIHNldCh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIHRoaXMucG9zaXRpb24uc2V0KHgsIHkpO1xuICAgIHRoaXMubGlmZSA9IDE7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgaWYgKHRoaXMubGlmZSA8PSAwKSByZXR1cm47XG4gICAgaWYgKHRoaXMucG9zaXRpb24ueSArIHRoaXMuaGVpZ2h0IDwgMCkge1xuICAgICAgdGhpcy5saWZlID0gMDtcbiAgICB9XG4gICAgdGhpcy5wb3NpdGlvbi54ICs9IHRoaXMudmVjdG9yLnggKiB0aGlzLnNwZWVkO1xuICAgIHRoaXMucG9zaXRpb24ueSArPSB0aGlzLnZlY3Rvci55ICogdGhpcy5zcGVlZDtcbiAgICB0aGlzLnJvdGF0aW9uRHJhdygpO1xuICB9XG59XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIkBjaGFyc2V0IFxcXCJ1dGYtOFxcXCI7XFxuXFxuKiB7XFxuICBtYXJnaW46IDBweDtcXG4gIHBhZGRpbmc6IDBweDtcXG59XFxuXFxuaHRtbCxcXG5ib2R5IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM1NTU1NTU7XFxuICBjb2xvcjogI2YwZjBmMDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHBhZGRpbmctdG9wOiAxMHB4O1xcbn1cXG5cXG5jYW52YXMge1xcbiAgbWFyZ2luOiAwcHggYXV0bztcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3N0eWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQSxnQkFBZ0I7O0FBRWhCO0VBQ0UsV0FBVztFQUNYLFlBQVk7QUFDZDs7QUFFQTs7RUFFRSx5QkFBeUI7RUFDekIsY0FBYztFQUNkLGtCQUFrQjtFQUNsQixXQUFXO0VBQ1gsWUFBWTtFQUNaLGdCQUFnQjtFQUNoQixpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiQGNoYXJzZXQgXFxcInV0Zi04XFxcIjtcXG5cXG4qIHtcXG4gIG1hcmdpbjogMHB4O1xcbiAgcGFkZGluZzogMHB4O1xcbn1cXG5cXG5odG1sLFxcbmJvZHkge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzU1NTU1NTtcXG4gIGNvbG9yOiAjZjBmMGYwO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgcGFkZGluZy10b3A6IDEwcHg7XFxufVxcblxcbmNhbnZhcyB7XFxuICBtYXJnaW46IDBweCBhdXRvO1xcbn1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pIHtcbiAgdmFyIF9pdGVtID0gX3NsaWNlZFRvQXJyYXkoaXRlbSwgNCksXG4gICAgICBjb250ZW50ID0gX2l0ZW1bMV0sXG4gICAgICBjc3NNYXBwaW5nID0gX2l0ZW1bM107XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgXCJcIikuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIikuY29uY2F0KG9iai5jc3MsIFwifVwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cbiAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuICB9XG5cbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdMaXN0KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRvbVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5Eb21bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5Eb20uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJpbXBvcnQgYXBpIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICAgICAgICBpbXBvcnQgY29udGVudCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCBkZWZhdWx0IGNvbnRlbnQubG9jYWxzIHx8IHt9OyIsImltcG9ydCB7IGluaXQgfSBmcm9tIFwiLi9hcHBcIjtcbmltcG9ydCBcIi4vc3R5bGUuY3NzXCI7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBpbml0KTtcbiIsImltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4vY2FudmFzXCI7XG5pbXBvcnQgeyBTdGF0ZSwgUGxheWVyLCBTaG90LCBDaGFyYWN0ZXIgfSBmcm9tIFwiLi9jaGFyYWN0ZXJzXCI7XG5pbXBvcnQgdmlwZXJJbWFnZSBmcm9tIFwiLi9hc3NldHMvaW1hZ2VzL3ZpcGVyLnBuZ1wiO1xuaW1wb3J0IHZpcGVyU2hvdEltYWdlIGZyb20gXCIuL2Fzc2V0cy9pbWFnZXMvdmlwZXJfc2hvdC5wbmdcIjtcbmltcG9ydCB2aXBlclNpbmdsZVNob3RJbWFnZSBmcm9tIFwiLi9hc3NldHMvaW1hZ2VzL3ZpcGVyX3NpbmdsZV9zaG90LnBuZ1wiO1xuXG5leHBvcnQgY29uc3QgaW5pdCA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzY3JlZW5cIikgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG5cbiAgY29uc3QgQ0FOVkFTX1dJRFRIID0gNjQwO1xuICBjb25zdCBDQU5WQVNfSEVJR0hUID0gNDgwO1xuXG4gIGNvbnN0IFNIT1RfTUFYX0NPVU5UID0gMTA7XG5cbiAgY29uc3Qgc3RhdGU6IFN0YXRlID0ge1xuICAgIGlzS2V5RG93bjoge1xuICAgICAgYXJyb3dMZWZ0OiBmYWxzZSxcbiAgICAgIGFycm93UmlnaHQ6IGZhbHNlLFxuICAgICAgYXJyb3dEb3duOiBmYWxzZSxcbiAgICAgIGFycm93VXA6IGZhbHNlLFxuICAgICAgejogZmFsc2UsXG4gICAgfSxcbiAgfTtcblxuICBjYW52YXMud2lkdGggPSBDQU5WQVNfV0lEVEg7XG4gIGNhbnZhcy5oZWlnaHQgPSBDQU5WQVNfSEVJR0hUO1xuICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpITtcblxuICBjb25zdCBjaGFyYWN0ZXJzOiBDaGFyYWN0ZXJbXSA9IFtdO1xuICBjb25zdCBwbGF5ZXIgPSBuZXcgUGxheWVyKHN0YXRlLCBjdHgsIDAsIDAsIDY0LCA2NCwgdmlwZXJJbWFnZSk7XG4gIGNoYXJhY3RlcnMucHVzaChwbGF5ZXIpO1xuICBwbGF5ZXIuc2V0Q29taW5nKFxuICAgIENBTlZBU19XSURUSCAvIDIsXG4gICAgQ0FOVkFTX0hFSUdIVCxcbiAgICBDQU5WQVNfV0lEVEggLyAyLFxuICAgIENBTlZBU19IRUlHSFQgLSAxMDBcbiAgKTtcbiAgY29uc3Qgc2hvdEFycmF5OiBTaG90W10gPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiBTSE9UX01BWF9DT1VOVCB9KS5tYXAoXG4gICAgKCkgPT4gbmV3IFNob3QoY3R4LCAwLCAwLCAzMiwgMzIsIHZpcGVyU2hvdEltYWdlKVxuICApO1xuICBjb25zdCBzaW5nbGVTaG90QXJyYXk6IFNob3RbXSA9IEFycmF5LmZyb20oe1xuICAgIGxlbmd0aDogU0hPVF9NQVhfQ09VTlQgKiAyLFxuICB9KS5tYXAoKCkgPT4gbmV3IFNob3QoY3R4LCAwLCAwLCAzMiwgMzIsIHZpcGVyU2luZ2xlU2hvdEltYWdlKSk7XG4gIHBsYXllci5zZXRTaG90QXJyYXkoc2hvdEFycmF5LCBzaW5nbGVTaG90QXJyYXkpO1xuICBjaGFyYWN0ZXJzLnB1c2goLi4uc2hvdEFycmF5LCAuLi5zaW5nbGVTaG90QXJyYXkpO1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZXZlbnQpID0+IHtcbiAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xuICAgICAgY2FzZSBcIkFycm93TGVmdFwiOlxuICAgICAgICBzdGF0ZS5pc0tleURvd24uYXJyb3dMZWZ0ID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiQXJyb3dSaWdodFwiOlxuICAgICAgICBzdGF0ZS5pc0tleURvd24uYXJyb3dSaWdodCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkFycm93VXBcIjpcbiAgICAgICAgc3RhdGUuaXNLZXlEb3duLmFycm93VXAgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJBcnJvd0Rvd25cIjpcbiAgICAgICAgc3RhdGUuaXNLZXlEb3duLmFycm93RG93biA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInpcIjpcbiAgICAgICAgc3RhdGUuaXNLZXlEb3duLnogPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSk7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKGV2ZW50KSA9PiB7XG4gICAgc3dpdGNoIChldmVudC5rZXkpIHtcbiAgICAgIGNhc2UgXCJBcnJvd0xlZnRcIjpcbiAgICAgICAgc3RhdGUuaXNLZXlEb3duLmFycm93TGVmdCA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJBcnJvd1JpZ2h0XCI6XG4gICAgICAgIHN0YXRlLmlzS2V5RG93bi5hcnJvd1JpZ2h0ID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkFycm93VXBcIjpcbiAgICAgICAgc3RhdGUuaXNLZXlEb3duLmFycm93VXAgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiQXJyb3dEb3duXCI6XG4gICAgICAgIHN0YXRlLmlzS2V5RG93bi5hcnJvd0Rvd24gPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwielwiOlxuICAgICAgICBzdGF0ZS5pc0tleURvd24ueiA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSk7XG5cbiAgbGV0IHN0YXJ0VGltZTogbnVtYmVyO1xuICAoZnVuY3Rpb24gd2FpdCgpIHtcbiAgICBjb25zdCBpc1JlYWR5ID0gY2hhcmFjdGVycy5ldmVyeSgoYykgPT4gYy5yZWFkeSgpKTtcbiAgICBpZiAoIWlzUmVhZHkpIHtcbiAgICAgIHNldFRpbWVvdXQod2FpdCwgMTAwKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICByZW5kZXIoKTtcbiAgfSkoKTtcblxuICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgY3R4Lmdsb2JhbEFscGhhID0gMS4wO1xuICAgIHV0aWwuZHJhd1JlY3QoY3R4LCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQsIFwiI2VlZWVlZVwiKTtcblxuICAgIGNoYXJhY3RlcnMuZm9yRWFjaCgoYykgPT4gYy51cGRhdGUoKSk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XG4gIH1cbn07XG4iLCJleHBvcnQgY29uc3QgZHJhd1JlY3QgPSAoXG4gIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgeDogbnVtYmVyLFxuICB5OiBudW1iZXIsXG4gIHdpZHRoOiBudW1iZXIsXG4gIGhlaWdodDogbnVtYmVyLFxuICBjb2xvcjogc3RyaW5nXG4pID0+IHtcbiAgaWYgKGNvbG9yICE9IG51bGwpIHtcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9yO1xuICB9XG4gIGNvbnRleHQuZmlsbFJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==