(()=>{"use strict";var t,e,n,i,o,r,s,a,c,h,u,f,p,l,d,y,w,v,g,m,b,A,x,S,C,E={426:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(15),o=n.n(i),r=n(645),s=n.n(r)()(o());s.push([t.id,'@charset "utf-8";\n\n* {\n  margin: 0px;\n  padding: 0px;\n}\n\nhtml,\nbody {\n  background-color: #555555;\n  color: #f0f0f0;\n  text-align: center;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  padding-top: 10px;\n}\n\ncanvas {\n  margin: 0px auto;\n}\n',"",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA,gBAAgB;;AAEhB;EACE,WAAW;EACX,YAAY;AACd;;AAEA;;EAEE,yBAAyB;EACzB,cAAc;EACd,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,iBAAiB;AACnB;;AAEA;EACE,gBAAgB;AAClB",sourcesContent:['@charset "utf-8";\n\n* {\n  margin: 0px;\n  padding: 0px;\n}\n\nhtml,\nbody {\n  background-color: #555555;\n  color: #f0f0f0;\n  text-align: center;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  padding-top: 10px;\n}\n\ncanvas {\n  margin: 0px auto;\n}\n'],sourceRoot:""}]);const a=s},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(i)for(var r=0;r<this.length;r++){var s=this[r][0];null!=s&&(o[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);i&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},15:t=>{function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}t.exports=function(t){var n,i,o=(i=4,function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}return n}}(n,i)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=o[1],s=o[3];if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),h="/*# ".concat(c," */"),u=s.sources.map((function(t){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(t," */")}));return[r].concat(u).concat([h]).join("\n")}return[r].join("\n")}},379:(t,e,n)=>{var i,o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),r=[];function s(t){for(var e=-1,n=0;n<r.length;n++)if(r[n].identifier===t){e=n;break}return e}function a(t,e){for(var n={},i=[],o=0;o<t.length;o++){var a=t[o],c=e.base?a[0]+e.base:a[0],h=n[c]||0,u="".concat(c," ").concat(h);n[c]=h+1;var f=s(u),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==f?(r[f].references++,r[f].updater(p)):r.push({identifier:u,updater:y(p,e),references:1}),i.push(u)}return i}function c(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var s=o(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var h,u=(h=[],function(t,e){return h[t]=e,h.filter(Boolean).join("\n")});function f(t,e,n,i){var o=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=u(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function p(t,e,n){var i=n.css,o=n.media,r=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var l=null,d=0;function y(t,e){var n,i,o;if(e.singleton){var r=d++;n=l||(l=c(e)),i=f.bind(null,n,r,!1),o=f.bind(null,n,r,!0)}else n=c(e),i=p.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var o=s(n[i]);r[o].references--}for(var c=a(t,e),h=0;h<n.length;h++){var u=s(n[h]);0===r[u].references&&(r[u].updater(),r.splice(u,1))}n=c}}}},403:(t,e,n)=>{t.exports=n.p+"557374f791944ecf6c01.png"},657:(t,e,n)=>{t.exports=n.p+"a98f39017db8c62ba701.png"},446:(t,e,n)=>{t.exports=n.p+"82300f5733384f973929.png"},18:(t,e,n)=>{t.exports=n.p+"4233d78f478d9acd0230.png"},734:(t,e,n)=>{t.exports=n.p+"ff33312c29e171e364d7.png"}},k={};function _(t){if(k[t])return k[t].exports;var e=k[t]={id:t,exports:{}};return E[t](e,e.exports,_),e.exports}_.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return _.d(e,{a:e}),e},_.d=(t,e)=>{for(var n in e)_.o(e,n)&&!_.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},_.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),_.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;_.g.importScripts&&(t=_.g.location+"");var e=_.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),_.p=t})(),e=function(t){return t/360*Math.PI*2},n=function(t,e){return Array.from({length:t}).map(e)},t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)},i=function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)},o=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.set=function(t,e){this.x=t,this.y=e},t.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},t}(),r=function(t){function e(e,n){return t.call(this,e,n)||this}return i(e,t),e.new=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=-1),new e(t,n)},e.fromAngle=function(t){return new e(Math.cos(t),Math.sin(t))},Object.defineProperty(e.prototype,"angle",{get:function(){var t=Math.asin(this.y);return this.x>=0?t:Math.PI-t},enumerable:!1,configurable:!0}),e.prototype.setAngle=function(t){this.set(Math.cos(t),Math.sin(t))},e}(o),s=function(){function t(t,e,n){var i,s,a,c,h=n.x,u=void 0===h?0:h,f=n.y,p=void 0===f?0:f,l=n.w,d=n.h,y=n.life,w=void 0===y?0:y;this.ctx=t,this.position=new o(u,p),this.vector=r.new(),this.width=l,this.height=d,this.life=w,i=this,s=void 0,c=function(){var t;return function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}(this,(function(n){switch(n.label){case 0:return t=this,[4,(i=e,new Promise((function(t,e){var n=new Image;n.addEventListener("load",(function(){t(n)})),n.src=i})))];case 1:return t.image=n.sent(),[2]}var i}))},new((a=void 0)||(a=Promise))((function(t,e){function n(t){try{r(c.next(t))}catch(t){e(t)}}function o(t){try{r(c.throw(t))}catch(t){e(t)}}function r(e){var i;e.done?t(e.value):(i=e.value,i instanceof a?i:new a((function(t){t(i)}))).then(n,o)}r((c=c.apply(i,s||[])).next())}))}return t.prototype.setVector=function(t,e){this.vector.set(t,e)},t.prototype.setVectorFromAngle=function(t){this.vector.setAngle(t)},t.prototype.draw=function(){if(this.image){var t=this.width/2,e=this.height/2;this.ctx.drawImage(this.image,this.position.x-t,this.position.y-e,this.width,this.height)}},t.prototype.rotationDraw=function(){if(this.image){this.ctx.save(),this.ctx.translate(this.position.x,this.position.y),this.ctx.rotate(this.vector.angle-1.5*Math.PI);var t=this.width/2,e=this.height/2;this.ctx.drawImage(this.image,-t,-e,this.width,this.height),this.ctx.restore()}},t.prototype.update=function(){},t.prototype.ready=function(){return!!this.image},t}(),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),c="default",h=function(t){function e(e,n,i,o){var r=t.call(this,e,n,i)||this;return r.speed=3,r.frame=0,r.type=c,r.shotArray=o,r}return a(e,t),e.prototype.set=function(t,e,n,i){void 0===n&&(n=1),void 0===i&&(i=c),this.position.set(t,e),this.life=n,this.type=i,this.frame=0},e.prototype.fire=function(t,e){void 0===t&&(t=0),void 0===e&&(e=1);for(var n=0,i=this.shotArray;n<i.length;n++){var o=i[n];if(o.life<=0){o.set(this.position.x,this.position.y),o.setSpeed(5),o.setVector(t,e);break}}},e.prototype.update=function(){if(!(this.life<=0)){switch(this.type){case c:50==this.frame&&this.fire(),this.position.y-this.height>this.ctx.canvas.height&&(this.life=0),this.position.x+=this.vector.x*this.speed,this.position.y+=this.vector.y*this.speed}this.draw(),this.frame++}},e}(s),u=function(){function t(t,e,n,i,o,r){void 0===r&&(r="#ff1166"),this.life=!1,this.fires=[],this.startTime=0,this.ctx=t,this.radius=e,this.count=n,this.size=i,this.timeRange=o,this.color=r}return t.prototype.set=function(t,e){this.fires=n(this.count,(function(){return{position:new o(t,e),vector:r.fromAngle(Math.random()*Math.PI*2)}})),this.life=!0,this.startTime=Date.now()},t.prototype.update=function(){if(this.life){this.ctx.fillStyle=this.color,this.ctx.globalAlpha=.5;for(var t=(Date.now()-this.startTime)/1e3,e=Math.min(t/this.timeRange,1),n=0,i=this.fires;n<i.length;n++){var o=i[n],r=this.radius*e,s=o.position.x+o.vector.x*r,a=o.position.y+o.vector.y*r;this.ctx.fillRect(s-this.size/2,a-this.size/2,this.size,this.size)}e>=1&&(this.life=!1)}},t}(),f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),p=function(t){function n(e,n,i,o,r){var s=r.shot,a=r.singleShot,c=t.call(this,n,i,o)||this;return c.speed=3,c.shotCheckCounter=0,c.shotInterval=10,c.isComing=!1,c.state=e,c.shotArray=s,c.singleShotArray=a,c}return f(n,t),n.prototype.update=function(){if(this.comingStart&&this.comingStartPosition&&this.comingEndPosition){var t=Date.now();if(this.isComing){var n=(t-this.comingStart)/1e3,i=this.comingStartPosition.y-50*n;i<=this.comingEndPosition.y&&(this.isComing=!1,i=this.comingEndPosition.y),this.position.set(this.position.x,i),t%100<50&&(this.ctx.globalAlpha=.5)}else if(this.state.isKeyDown.arrowLeft&&(this.position.x-=this.speed),this.state.isKeyDown.arrowRight&&(this.position.x+=this.speed),this.state.isKeyDown.arrowUp&&(this.position.y-=this.speed),this.state.isKeyDown.arrowDown&&(this.position.y+=this.speed),this.position.set(Math.min(Math.max(this.position.x,0),this.ctx.canvas.width),Math.min(Math.max(this.position.y,0),this.ctx.canvas.height)),this.state.isKeyDown.z&&this.shotCheckCounter>=0){for(var o=0,r=this.shotArray;o<r.length;o++){var s=r[o];if(s.life<=0){s.set(this.position.x,this.position.y),s.setPower(2),this.shotCheckCounter=-this.shotInterval;break}}for(var a=0;a<this.singleShotArray.length;a+=2)if(this.singleShotArray[a].life<=0&&this.singleShotArray[a+1].life<=0){var c=e(280),h=e(260);this.singleShotArray[a].set(this.position.x,this.position.y),this.singleShotArray[a].setVectorFromAngle(c),this.singleShotArray[a+1].set(this.position.x,this.position.y),this.singleShotArray[a+1].setVectorFromAngle(h),this.shotCheckCounter=-this.shotInterval;break}}this.shotCheckCounter++,this.draw(),this.ctx.globalAlpha=1}},n.prototype.setComing=function(t,e,n,i){this.isComing=!0,this.comingStart=Date.now(),this.position.set(t,e),this.comingStartPosition=new o(t,e),this.comingEndPosition=new o(n,i)},n}(s),l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),d=function(t){function e(e,n,i){var o=t.call(this,e,n,i)||this;return o.speed=7,o.power=1,o.targetArray=[],o.explosionArray=[],o}return l(e,t),e.prototype.set=function(t,e){this.position.set(t,e),this.life=1},e.prototype.setSpeed=function(t){t<=0||(this.speed=t)},e.prototype.setPower=function(t){t<=0||(this.power=t)},e.prototype.setTargets=function(t){this.targetArray=t},e.prototype.setExplosions=function(t){this.explosionArray=t},e.prototype.update=function(){var t=this;this.life<=0||((this.position.y+this.height<0||this.position.y-this.height>this.ctx.canvas.height)&&(this.life=0),this.position.x+=this.vector.x*this.speed,this.position.y+=this.vector.y*this.speed,this.life>0&&this.targetArray.forEach((function(e){if(!(e.life<=0)&&t.position.distance(e.position)<=(t.width+e.width)/4){if(e.life-=t.power,e.life<=0)for(var n=0,i=t.explosionArray;n<i.length;n++){var o=i[n];if(!o.life){o.set(e.position.x,e.position.y);break}}t.life=0}})),this.rotationDraw())},e}(s),y=function(){function t(){this.scene={},this.activeScene=null,this.startTime=Date.now(),this.frame=-1}return t.prototype.add=function(t,e){this.scene[t]=e},t.prototype.use=function(t){t in this.scene&&(this.activeScene=this.scene[t],this.startTime=Date.now(),this.frame=-1)},t.prototype.update=function(){var t,e=(Date.now()-this.startTime)/1e3;null===(t=this.activeScene)||void 0===t||t.call(this,e),this.frame++},t}(),w=_(446),v=_(18),g=_(734),m=_(657),b=_(403),A=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},x=_(379),S=_.n(x),C=_(426),S()(C.Z,{insert:"head",singleton:!1}),C.Z.locals,window.addEventListener("load",(function(){return t=void 0,e=void 0,o=function(){function t(){var n,i,s;o.globalAlpha=1,n=o,i=e.width,s=e.height,n.fillStyle="#eeeeee",n.fillRect(0,0,i,s),S.update(),r.forEach((function(t){return t.update()})),x.forEach((function(t){return t.update()})),requestAnimationFrame(t)}var e,i,o,r,s,a,c,f,l,x,S;return function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}(this,(function(C){return e=document.querySelector("#screen"),i={isKeyDown:{arrowLeft:!1,arrowRight:!1,arrowDown:!1,arrowUp:!1,z:!1}},e.width=640,e.height=480,o=e.getContext("2d"),r=[],s=n(10,(function(){return new d(o,v,{w:32,h:32})})),a=n(20,(function(){return new d(o,g,{w:32,h:32})})),r.push.apply(r,A(s,a)),c=new p(i,o,w,{w:64,h:64},{shot:s,singleShot:a}),r.push(c),c.setComing(320,480,320,380),f=n(50,(function(){return new d(o,b,{w:48,h:48})})),r.push.apply(r,f),l=n(10,(function(){return new h(o,m,{w:48,h:48},f)})),r.push.apply(r,l),x=n(10,(function(){return new u(o,50,15,30,.25)})),A(s,a).forEach((function(t){t.setTargets(l),t.setExplosions(x)})),(S=new y).add("intro",(function(t){t>2&&S.use("invade")})),S.add("invade",(function(t){if(0==S.frame)for(var e=0,n=l;e<n.length;e++){var i=n[e];if(i.life<=0){i.set(320,-i.height,2,"default"),i.setVector(0,1);break}}else 100===S.frame&&S.use("invade")})),S.use("intro"),window.addEventListener("keydown",(function(t){switch(t.key){case"ArrowLeft":i.isKeyDown.arrowLeft=!0;break;case"ArrowRight":i.isKeyDown.arrowRight=!0;break;case"ArrowUp":i.isKeyDown.arrowUp=!0;break;case"ArrowDown":i.isKeyDown.arrowDown=!0;break;case"z":i.isKeyDown.z=!0}})),window.addEventListener("keyup",(function(t){switch(t.key){case"ArrowLeft":i.isKeyDown.arrowLeft=!1;break;case"ArrowRight":i.isKeyDown.arrowRight=!1;break;case"ArrowUp":i.isKeyDown.arrowUp=!1;break;case"ArrowDown":i.isKeyDown.arrowDown=!1;break;case"z":i.isKeyDown.z=!1}})),function e(){r.every((function(t){return t.ready()}))?(Date.now(),t()):setTimeout(e,100)}(),[2]}))},new((i=void 0)||(i=Promise))((function(n,r){function s(t){try{c(o.next(t))}catch(t){r(t)}}function a(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}c((o=o.apply(t,e||[])).next())}));var t,e,i,o}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW52YXMtZ2FtZS8uL3NyYy91dGlscy50cyIsIndlYnBhY2s6Ly9jYW52YXMtZ2FtZS8uL3NyYy9jaGFyYWN0ZXJzL2Jhc2UudHMiLCJ3ZWJwYWNrOi8vY2FudmFzLWdhbWUvLi9zcmMvY2hhcmFjdGVycy9lbmVteS50cyIsIndlYnBhY2s6Ly9jYW52YXMtZ2FtZS8uL3NyYy9jaGFyYWN0ZXJzL2V4cGxvc2lvbi50cyIsIndlYnBhY2s6Ly9jYW52YXMtZ2FtZS8uL3NyYy9jaGFyYWN0ZXJzL3BsYXllci50cyIsIndlYnBhY2s6Ly9jYW52YXMtZ2FtZS8uL3NyYy9jaGFyYWN0ZXJzL3Nob3QudHMiLCJ3ZWJwYWNrOi8vY2FudmFzLWdhbWUvLi9zcmMvc2NlbmUudHMiLCJ3ZWJwYWNrOi8vY2FudmFzLWdhbWUvLi9zcmMvc3R5bGUuY3NzIiwid2VicGFjazovL2NhbnZhcy1nYW1lLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9jYW52YXMtZ2FtZS8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzIiwid2VicGFjazovL2NhbnZhcy1nYW1lLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL2NhbnZhcy1nYW1lL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2NhbnZhcy1nYW1lL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2NhbnZhcy1nYW1lL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9jYW52YXMtZ2FtZS93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL2NhbnZhcy1nYW1lL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vY2FudmFzLWdhbWUvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vY2FudmFzLWdhbWUvLi9zcmMvc3R5bGUuY3NzPzcxNjMiLCJ3ZWJwYWNrOi8vY2FudmFzLWdhbWUvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vY2FudmFzLWdhbWUvLi9zcmMvYXBwLnRzIiwid2VicGFjazovL2NhbnZhcy1nYW1lLy4vc3JjL2NhbnZhcy50cyJdLCJuYW1lcyI6WyJkZWdUb1JhZCIsImFycmF5IiwiREVGQVVMVF9FTkVNWV9UWVBFIiwiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsImNvbmNhdCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhUXVlcnkiLCJkZWR1cGUiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwibGVuZ3RoIiwiX2kiLCJfYXJyYXlMaWtlVG9BcnJheSIsImFyciIsImxlbiIsImFycjIiLCJBcnJheSIsIl9pdGVtIiwiaXNBcnJheSIsIl9hcnJheVdpdGhIb2xlcyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiT2JqZWN0IiwiX2FyciIsIl9uIiwiX2QiLCJfZSIsInVuZGVmaW5lZCIsIl9zIiwibmV4dCIsImRvbmUiLCJ2YWx1ZSIsImVyciIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIm8iLCJtaW5MZW4iLCJuIiwicHJvdG90eXBlIiwiY2FsbCIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiZnJvbSIsInRlc3QiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJUeXBlRXJyb3IiLCJfbm9uSXRlcmFibGVSZXN0IiwiY3NzTWFwcGluZyIsImJ0b2EiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwic291cmNlTWFwcGluZyIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsIm1lbW8iLCJnZXRUYXJnZXQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIndpbmRvdyIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzdHlsZXNJbkRvbSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleCIsIm9iaiIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJub25jZSIsImtleXMiLCJmb3JFYWNoIiwia2V5Iiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJCb29sZWFuIiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsInJlbW92ZSIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiYXBwbHlUb1RhZyIsInJlbW92ZUF0dHJpYnV0ZSIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwidXBkYXRlIiwic3R5bGVJbmRleCIsImJpbmQiLCJwYXJlbnROb2RlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwibmV3T2JqIiwiYWxsIiwiYXRvYiIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaW5kZXgiLCJzcGxpY2UiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsImciLCJnbG9iYWxUaGlzIiwiRnVuY3Rpb24iLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicmVwbGFjZSIsInAiLCJkZWdyZWVzIiwiTWF0aCIsIlBJIiwiZm4iLCJ4IiwieSIsInNldCIsImRpc3RhbmNlIiwic3FydCIsIm5ldyIsIlZlY3RvciIsImZyb21BbmdsZSIsImFuZ2xlIiwiY29zIiwic2luIiwiYXNpbiIsInNldEFuZ2xlIiwiUG9zaXRpb24iLCJjdHgiLCJpbWFnZVBhdGgiLCJ3IiwiaCIsImxpZmUiLCJwb3NpdGlvbiIsInZlY3RvciIsIndpZHRoIiwiaGVpZ2h0IiwidXJsIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJpbWFnZSIsIkltYWdlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNldFZlY3RvciIsInNldFZlY3RvckZyb21BbmdsZSIsImRyYXciLCJvZmZzZXRYIiwib2Zmc2V0WSIsImRyYXdJbWFnZSIsInJvdGF0aW9uRHJhdyIsInNhdmUiLCJ0cmFuc2xhdGUiLCJyb3RhdGUiLCJyZXN0b3JlIiwicmVhZHkiLCJvcHRpb24iLCJzaG90cyIsInNwZWVkIiwiZnJhbWUiLCJ0eXBlIiwic2hvdEFycmF5IiwiZmlyZSIsInMiLCJzZXRTcGVlZCIsImNhbnZhcyIsIkNoYXJhY3RlciIsInJhZGl1cyIsInNpemUiLCJ0aW1lUmFuZ2UiLCJjb2xvciIsImZpcmVzIiwic3RhcnRUaW1lIiwicmFuZG9tIiwiRGF0ZSIsIm5vdyIsImZpbGxTdHlsZSIsImdsb2JhbEFscGhhIiwidGltZSIsInByb2dyZXNzIiwibWluIiwiZiIsImZpbGxSZWN0Iiwic3RhdGUiLCJzaG90Iiwic2luZ2xlU2hvdCIsInNob3RDaGVja0NvdW50ZXIiLCJzaG90SW50ZXJ2YWwiLCJpc0NvbWluZyIsInNpbmdsZVNob3RBcnJheSIsImNvbWluZ1N0YXJ0IiwiY29taW5nU3RhcnRQb3NpdGlvbiIsImNvbWluZ0VuZFBvc2l0aW9uIiwianVzdFRpbWUiLCJjb21pbmdUaW1lIiwiaXNLZXlEb3duIiwiYXJyb3dMZWZ0IiwiYXJyb3dSaWdodCIsImFycm93VXAiLCJhcnJvd0Rvd24iLCJtYXgiLCJ6Iiwic2V0UG93ZXIiLCJyYWRDVyIsInJhZENDVyIsInNldENvbWluZyIsInN0YXJ0WCIsInN0YXJ0WSIsImVuZFgiLCJlbmRZIiwicG93ZXIiLCJ0YXJnZXRBcnJheSIsImV4cGxvc2lvbkFycmF5Iiwic2V0VGFyZ2V0cyIsInRhcmdldHMiLCJzZXRFeHBsb3Npb25zIiwiZXhwbG9zaW9ucyIsInQiLCJzY2VuZSIsImFjdGl2ZVNjZW5lIiwiYWRkIiwidXBkYXRlRnVuY3Rpb24iLCJ1c2UiLCJhY3RpdmVUaW1lIiwicmVuZGVyIiwiY29udGV4dCIsImNoYXJhY3RlcnMiLCJjIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZ2V0Q29udGV4dCIsIlNob3QiLCJzaW5nbGVTaG90cyIsIlNIT1RfTUFYX0NPVU5UIiwicGxheWVyIiwiUGxheWVyIiwidmlwZXIiLCJDQU5WQVNfV0lEVEgiLCJDQU5WQVNfSEVJR0hUIiwiZW5lbXlTaG90cyIsImVuZW1pZXMiLCJFbmVteSIsIkV4cGxvc2lvbiIsIlNjZW5lTWFuYWdlciIsImV2ZW50Iiwid2FpdCIsImV2ZXJ5Iiwic2V0VGltZW91dCJdLCJtYXBwaW5ncyI6InlCQVVhQSxFQUdB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QVVHLFNBQVUsRUFDMUIsTUFDRixJQUFLLFlBQ0hmLEVBQU1ZLFVBQVVJLFdBQVksRUFDNUIsTUFDRixJQUFLLElBQ0hoQixFQUFNWSxVQUFVTSxHQUFJLE1BTTFCeEwsT0FBTzhILGlCQUFpQixTQUFTLFNBQUNvRyxHQUNoQyxPQUFRQSxFQUFNcE0sS0FDWixJQUFLLFlBQ0h3SSxFQUFNWSxVQUFVQyxXQUFZLEVBQzVCLE1BQ0YsSUFBSyxhQUNIYixFQUFNWSxVQUFVRSxZQUFhLEVBQzdCLE1BQ0YsSUFBSyxVQUNIZCxFQUFNWSxVQUFVRyxTQUFVLEVBQzFCLE1BQ0YsSUFBSyxZQUNIZixFQUFNWSxVQUFVSSxXQUFZLEVBQzVCLE1BQ0YsSUFBSyxJQUNIaEIsRUFBTVksVUFBVU0sR0FBSSxNQVExQixTQUFVMkMsSUFDUWxCLEVBQVdtQixPQUFNLFNBQUNsQixHQUFNLE9BQUFBLEVBQUV4RSxZQUs5Qm1CLEtBQUtDLE1BQ2pCaUQsS0FKRXNCLFdBQVdGLEVBQU0sS0FIckIsRyxvQkE1SWtCLEsiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGxvYWRJbWFnZSA9ICh1cmw6IHN0cmluZyk6IFByb21pc2U8SFRNTEltYWdlRWxlbWVudD4gPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKCkgPT4ge1xuICAgICAgcmVzb2x2ZShpbWFnZSk7XG4gICAgfSk7XG4gICAgaW1hZ2Uuc3JjID0gdXJsO1xuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBkZWdUb1JhZCA9IChkZWdyZWVzOiBudW1iZXIpOiBudW1iZXIgPT5cbiAgKGRlZ3JlZXMgLyAzNjApICogTWF0aC5QSSAqIDI7XG5cbmV4cG9ydCBjb25zdCBhcnJheSA9IDxUPihsZW5ndGg6IG51bWJlciwgZm46ICgpID0+IFQpID0+XG4gIEFycmF5LmZyb20oeyBsZW5ndGggfSkubWFwKGZuKTtcbiIsImltcG9ydCB7IGxvYWRJbWFnZSB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG5leHBvcnQgdHlwZSBTdGF0ZSA9IHtcbiAgaXNLZXlEb3duOiB7XG4gICAgYXJyb3dMZWZ0OiBib29sZWFuO1xuICAgIGFycm93UmlnaHQ6IGJvb2xlYW47XG4gICAgYXJyb3dVcDogYm9vbGVhbjtcbiAgICBhcnJvd0Rvd246IGJvb2xlYW47XG4gICAgejogYm9vbGVhbjtcbiAgfTtcbn07XG5cbmV4cG9ydCBjbGFzcyBQb3NpdGlvbiB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICB9XG5cbiAgc2V0KHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICB9XG5cbiAgZGlzdGFuY2UodGFyZ2V0OiBQb3NpdGlvbik6IG51bWJlciB7XG4gICAgY29uc3QgeCA9IHRoaXMueCAtIHRhcmdldC54O1xuICAgIGNvbnN0IHkgPSB0aGlzLnkgLSB0YXJnZXQueTtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBWZWN0b3IgZXh0ZW5kcyBQb3NpdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgc3VwZXIoeCwgeSk7XG4gIH1cblxuICBzdGF0aWMgbmV3KHg6IG51bWJlciA9IDAuMCwgeTogbnVtYmVyID0gLTEuMCk6IFZlY3RvciB7XG4gICAgcmV0dXJuIG5ldyBWZWN0b3IoeCwgeSk7XG4gIH1cblxuICBzdGF0aWMgZnJvbUFuZ2xlKGFuZ2xlOiBudW1iZXIpOiBWZWN0b3Ige1xuICAgIHJldHVybiBuZXcgVmVjdG9yKE1hdGguY29zKGFuZ2xlKSwgTWF0aC5zaW4oYW5nbGUpKTtcbiAgfVxuXG4gIGdldCBhbmdsZSgpOiBudW1iZXIge1xuICAgIGNvbnN0IGFzaW4gPSBNYXRoLmFzaW4odGhpcy55KTtcbiAgICByZXR1cm4gdGhpcy54ID49IDAgPyBhc2luIDogTWF0aC5QSSAtIGFzaW47XG4gIH1cblxuICBzZXRBbmdsZShhbmdsZTogbnVtYmVyKSB7XG4gICAgdGhpcy5zZXQoTWF0aC5jb3MoYW5nbGUpLCBNYXRoLnNpbihhbmdsZSkpO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIENoYXJhY3Rlck9wdCA9IHtcbiAgeD86IG51bWJlcjtcbiAgeT86IG51bWJlcjtcbiAgdzogbnVtYmVyO1xuICBoOiBudW1iZXI7XG4gIGxpZmU/OiBudW1iZXI7XG59O1xuXG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyIHtcbiAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gIHBvc2l0aW9uOiBQb3NpdGlvbjtcbiAgdmVjdG9yOiBWZWN0b3I7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xuICBsaWZlOiBudW1iZXI7XG4gIGltYWdlPzogSFRNTEltYWdlRWxlbWVudDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgICBpbWFnZVBhdGg6IHN0cmluZyxcbiAgICB7IHggPSAwLCB5ID0gMCwgdywgaCwgbGlmZSA9IDAgfTogQ2hhcmFjdGVyT3B0XG4gICkge1xuICAgIHRoaXMuY3R4ID0gY3R4O1xuICAgIHRoaXMucG9zaXRpb24gPSBuZXcgUG9zaXRpb24oeCwgeSk7XG4gICAgdGhpcy52ZWN0b3IgPSBWZWN0b3IubmV3KCk7XG4gICAgdGhpcy53aWR0aCA9IHc7XG4gICAgdGhpcy5oZWlnaHQgPSBoO1xuICAgIHRoaXMubGlmZSA9IGxpZmU7XG4gICAgKGFzeW5jICgpID0+IHtcbiAgICAgIHRoaXMuaW1hZ2UgPSBhd2FpdCBsb2FkSW1hZ2UoaW1hZ2VQYXRoKTtcbiAgICB9KSgpO1xuICB9XG5cbiAgc2V0VmVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgdGhpcy52ZWN0b3Iuc2V0KHgsIHkpO1xuICB9XG5cbiAgc2V0VmVjdG9yRnJvbUFuZ2xlKGFuZ2xlOiBudW1iZXIpIHtcbiAgICB0aGlzLnZlY3Rvci5zZXRBbmdsZShhbmdsZSk7XG4gIH1cblxuICBkcmF3KCkge1xuICAgIGlmICghdGhpcy5pbWFnZSkgcmV0dXJuO1xuICAgIGNvbnN0IG9mZnNldFggPSB0aGlzLndpZHRoIC8gMjtcbiAgICBjb25zdCBvZmZzZXRZID0gdGhpcy5oZWlnaHQgLyAyO1xuICAgIHRoaXMuY3R4LmRyYXdJbWFnZShcbiAgICAgIHRoaXMuaW1hZ2UsXG4gICAgICB0aGlzLnBvc2l0aW9uLnggLSBvZmZzZXRYLFxuICAgICAgdGhpcy5wb3NpdGlvbi55IC0gb2Zmc2V0WSxcbiAgICAgIHRoaXMud2lkdGgsXG4gICAgICB0aGlzLmhlaWdodFxuICAgICk7XG4gIH1cblxuICByb3RhdGlvbkRyYXcoKSB7XG4gICAgaWYgKCF0aGlzLmltYWdlKSByZXR1cm47XG4gICAgdGhpcy5jdHguc2F2ZSgpO1xuICAgIHRoaXMuY3R4LnRyYW5zbGF0ZSh0aGlzLnBvc2l0aW9uLngsIHRoaXMucG9zaXRpb24ueSk7XG4gICAgdGhpcy5jdHgucm90YXRlKHRoaXMudmVjdG9yLmFuZ2xlIC0gTWF0aC5QSSAqIDEuNSk7XG5cbiAgICBjb25zdCBvZmZzZXRYID0gdGhpcy53aWR0aCAvIDI7XG4gICAgY29uc3Qgb2Zmc2V0WSA9IHRoaXMuaGVpZ2h0IC8gMjtcbiAgICB0aGlzLmN0eC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgLW9mZnNldFgsIC1vZmZzZXRZLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG5cbiAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XG4gIH1cblxuICB1cGRhdGUoKSB7fVxuXG4gIHJlYWR5KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXRoaXMuaW1hZ2U7XG4gIH1cbn1cbiIsImltcG9ydCB7IENoYXJhY3RlciwgQ2hhcmFjdGVyT3B0IH0gZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0IHsgU2hvdCB9IGZyb20gXCIuL3Nob3RcIjtcblxuY29uc3QgREVGQVVMVF9FTkVNWV9UWVBFID0gXCJkZWZhdWx0XCI7XG5cbmV4cG9ydCBjbGFzcyBFbmVteSBleHRlbmRzIENoYXJhY3RlciB7XG4gIHNwZWVkOiBudW1iZXIgPSAzO1xuICBmcmFtZSA9IDA7XG4gIHR5cGU6IHN0cmluZyA9IERFRkFVTFRfRU5FTVlfVFlQRTtcbiAgc2hvdEFycmF5OiBTaG90W107XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG4gICAgaW1hZ2VQYXRoOiBzdHJpbmcsXG4gICAgb3B0aW9uOiBDaGFyYWN0ZXJPcHQsXG4gICAgc2hvdHM6IFNob3RbXVxuICApIHtcbiAgICBzdXBlcihjdHgsIGltYWdlUGF0aCwgb3B0aW9uKTtcbiAgICB0aGlzLnNob3RBcnJheSA9IHNob3RzO1xuICB9XG5cbiAgc2V0KFxuICAgIHg6IG51bWJlcixcbiAgICB5OiBudW1iZXIsXG4gICAgbGlmZTogbnVtYmVyID0gMSxcbiAgICB0eXBlOiBzdHJpbmcgPSBERUZBVUxUX0VORU1ZX1RZUEVcbiAgKSB7XG4gICAgdGhpcy5wb3NpdGlvbi5zZXQoeCwgeSk7XG4gICAgdGhpcy5saWZlID0gbGlmZTtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMuZnJhbWUgPSAwO1xuICB9XG5cbiAgZmlyZSh4OiBudW1iZXIgPSAwLjAsIHk6IG51bWJlciA9IDEuMCkge1xuICAgIGZvciAoY29uc3QgcyBvZiB0aGlzLnNob3RBcnJheSkge1xuICAgICAgaWYgKHMubGlmZSA8PSAwKSB7XG4gICAgICAgIHMuc2V0KHRoaXMucG9zaXRpb24ueCwgdGhpcy5wb3NpdGlvbi55KTtcbiAgICAgICAgcy5zZXRTcGVlZCg1LjApO1xuICAgICAgICBzLnNldFZlY3Rvcih4LCB5KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGlmICh0aGlzLmxpZmUgPD0gMCkgcmV0dXJuO1xuXG4gICAgc3dpdGNoICh0aGlzLnR5cGUpIHtcbiAgICAgIGNhc2UgREVGQVVMVF9FTkVNWV9UWVBFOlxuICAgICAgICBpZiAodGhpcy5mcmFtZSA9PSA1MCkge1xuICAgICAgICAgIHRoaXMuZmlyZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBvc2l0aW9uLnkgLSB0aGlzLmhlaWdodCA+IHRoaXMuY3R4LmNhbnZhcy5oZWlnaHQpIHtcbiAgICAgICAgICB0aGlzLmxpZmUgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9zaXRpb24ueCArPSB0aGlzLnZlY3Rvci54ICogdGhpcy5zcGVlZDtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55ICs9IHRoaXMudmVjdG9yLnkgKiB0aGlzLnNwZWVkO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHRoaXMuZHJhdygpO1xuICAgIHRoaXMuZnJhbWUrKztcbiAgfVxufVxuIiwiaW1wb3J0IHsgUG9zaXRpb24sIFZlY3RvciB9IGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCB7IGFycmF5IH0gZnJvbSBcIi4uL3V0aWxzXCI7XG5cbnR5cGUgRmlyZSA9IHtcbiAgcG9zaXRpb246IFBvc2l0aW9uO1xuICB2ZWN0b3I6IFZlY3Rvcjtcbn07XG5cbmV4cG9ydCBjbGFzcyBFeHBsb3Npb24ge1xuICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgbGlmZTogYm9vbGVhbiA9IGZhbHNlO1xuICByYWRpdXM6IG51bWJlcjtcbiAgY291bnQ6IG51bWJlcjtcbiAgc2l6ZTogbnVtYmVyO1xuICBmaXJlczogRmlyZVtdID0gW107XG4gIHN0YXJ0VGltZSA9IDA7XG4gIHRpbWVSYW5nZTogbnVtYmVyO1xuICBjb2xvcjogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuICAgIHJhZGl1czogbnVtYmVyLFxuICAgIGNvdW50OiBudW1iZXIsXG4gICAgc2l6ZTogbnVtYmVyLFxuICAgIHRpbWVSYW5nZTogbnVtYmVyLFxuICAgIGNvbG9yOiBzdHJpbmcgPSBcIiNmZjExNjZcIlxuICApIHtcbiAgICB0aGlzLmN0eCA9IGN0eDtcbiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcbiAgICB0aGlzLmNvdW50ID0gY291bnQ7XG4gICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICB0aGlzLnRpbWVSYW5nZSA9IHRpbWVSYW5nZTtcbiAgICB0aGlzLmNvbG9yID0gY29sb3I7XG4gIH1cblxuICBzZXQoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICB0aGlzLmZpcmVzID0gYXJyYXkodGhpcy5jb3VudCwgKCkgPT4gKHtcbiAgICAgIHBvc2l0aW9uOiBuZXcgUG9zaXRpb24oeCwgeSksXG4gICAgICB2ZWN0b3I6IFZlY3Rvci5mcm9tQW5nbGUoTWF0aC5yYW5kb20oKSAqIE1hdGguUEkgKiAyLjApLFxuICAgIH0pKTtcbiAgICB0aGlzLmxpZmUgPSB0cnVlO1xuICAgIHRoaXMuc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBpZiAoIXRoaXMubGlmZSkgcmV0dXJuO1xuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XG4gICAgdGhpcy5jdHguZ2xvYmFsQWxwaGEgPSAwLjU7XG5cbiAgICBjb25zdCB0aW1lID0gKERhdGUubm93KCkgLSB0aGlzLnN0YXJ0VGltZSkgLyAxMDAwO1xuICAgIGNvbnN0IHByb2dyZXNzID0gTWF0aC5taW4odGltZSAvIHRoaXMudGltZVJhbmdlLCAxLjApO1xuICAgIGZvciAoY29uc3QgZiBvZiB0aGlzLmZpcmVzKSB7XG4gICAgICBjb25zdCBkID0gdGhpcy5yYWRpdXMgKiBwcm9ncmVzcztcbiAgICAgIGNvbnN0IHggPSBmLnBvc2l0aW9uLnggKyBmLnZlY3Rvci54ICogZDtcbiAgICAgIGNvbnN0IHkgPSBmLnBvc2l0aW9uLnkgKyBmLnZlY3Rvci55ICogZDtcbiAgICAgIHRoaXMuY3R4LmZpbGxSZWN0KFxuICAgICAgICB4IC0gdGhpcy5zaXplIC8gMixcbiAgICAgICAgeSAtIHRoaXMuc2l6ZSAvIDIsXG4gICAgICAgIHRoaXMuc2l6ZSxcbiAgICAgICAgdGhpcy5zaXplXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChwcm9ncmVzcyA+PSAxLjApIHtcbiAgICAgIHRoaXMubGlmZSA9IGZhbHNlO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgU3RhdGUsIENoYXJhY3RlciwgUG9zaXRpb24sIENoYXJhY3Rlck9wdCB9IGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCB7IFNob3QgfSBmcm9tIFwiLi9zaG90XCI7XG5pbXBvcnQgeyBkZWdUb1JhZCB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG5leHBvcnQgY2xhc3MgUGxheWVyIGV4dGVuZHMgQ2hhcmFjdGVyIHtcbiAgc3RhdGU6IFN0YXRlO1xuICBzcGVlZDogbnVtYmVyID0gMztcblxuICBzaG90QXJyYXk6IFNob3RbXTtcbiAgc2luZ2xlU2hvdEFycmF5OiBTaG90W107XG4gIHNob3RDaGVja0NvdW50ZXIgPSAwO1xuICBzaG90SW50ZXJ2YWwgPSAxMDtcblxuICBpc0NvbWluZzogYm9vbGVhbiA9IGZhbHNlO1xuICBjb21pbmdTdGFydD86IG51bWJlcjtcbiAgY29taW5nU3RhcnRQb3NpdGlvbj86IFBvc2l0aW9uO1xuICBjb21pbmdFbmRQb3NpdGlvbj86IFBvc2l0aW9uO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHN0YXRlOiBTdGF0ZSxcbiAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgICBpbWFnZVBhdGg6IHN0cmluZyxcbiAgICBvcHRpb246IENoYXJhY3Rlck9wdCxcbiAgICB7XG4gICAgICBzaG90LFxuICAgICAgc2luZ2xlU2hvdCxcbiAgICB9OiB7XG4gICAgICBzaG90OiBTaG90W107XG4gICAgICBzaW5nbGVTaG90OiBTaG90W107XG4gICAgfVxuICApIHtcbiAgICBzdXBlcihjdHgsIGltYWdlUGF0aCwgb3B0aW9uKTtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5zaG90QXJyYXkgPSBzaG90O1xuICAgIHRoaXMuc2luZ2xlU2hvdEFycmF5ID0gc2luZ2xlU2hvdDtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBpZiAoXG4gICAgICAhdGhpcy5jb21pbmdTdGFydCB8fFxuICAgICAgIXRoaXMuY29taW5nU3RhcnRQb3NpdGlvbiB8fFxuICAgICAgIXRoaXMuY29taW5nRW5kUG9zaXRpb25cbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QganVzdFRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgaWYgKHRoaXMuaXNDb21pbmcpIHtcbiAgICAgIGNvbnN0IGNvbWluZ1RpbWUgPSAoanVzdFRpbWUgLSB0aGlzLmNvbWluZ1N0YXJ0KSAvIDEwMDA7XG4gICAgICBsZXQgeSA9IHRoaXMuY29taW5nU3RhcnRQb3NpdGlvbi55IC0gY29taW5nVGltZSAqIDUwO1xuICAgICAgaWYgKHkgPD0gdGhpcy5jb21pbmdFbmRQb3NpdGlvbi55KSB7XG4gICAgICAgIHRoaXMuaXNDb21pbmcgPSBmYWxzZTtcbiAgICAgICAgeSA9IHRoaXMuY29taW5nRW5kUG9zaXRpb24ueTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wb3NpdGlvbi5zZXQodGhpcy5wb3NpdGlvbi54LCB5KTtcbiAgICAgIGlmIChqdXN0VGltZSAlIDEwMCA8IDUwKSB7XG4gICAgICAgIHRoaXMuY3R4Lmdsb2JhbEFscGhhID0gMC41O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5pc0tleURvd24uYXJyb3dMZWZ0KSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueCAtPSB0aGlzLnNwZWVkO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc3RhdGUuaXNLZXlEb3duLmFycm93UmlnaHQpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi54ICs9IHRoaXMuc3BlZWQ7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zdGF0ZS5pc0tleURvd24uYXJyb3dVcCkge1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgLT0gdGhpcy5zcGVlZDtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzS2V5RG93bi5hcnJvd0Rvd24pIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55ICs9IHRoaXMuc3BlZWQ7XG4gICAgICB9XG4gICAgICB0aGlzLnBvc2l0aW9uLnNldChcbiAgICAgICAgTWF0aC5taW4oTWF0aC5tYXgodGhpcy5wb3NpdGlvbi54LCAwKSwgdGhpcy5jdHguY2FudmFzLndpZHRoKSxcbiAgICAgICAgTWF0aC5taW4oTWF0aC5tYXgodGhpcy5wb3NpdGlvbi55LCAwKSwgdGhpcy5jdHguY2FudmFzLmhlaWdodClcbiAgICAgICk7XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzS2V5RG93bi56KSB7XG4gICAgICAgIGlmICh0aGlzLnNob3RDaGVja0NvdW50ZXIgPj0gMCkge1xuICAgICAgICAgIGZvciAoY29uc3QgcyBvZiB0aGlzLnNob3RBcnJheSkge1xuICAgICAgICAgICAgaWYgKHMubGlmZSA8PSAwKSB7XG4gICAgICAgICAgICAgIHMuc2V0KHRoaXMucG9zaXRpb24ueCwgdGhpcy5wb3NpdGlvbi55KTtcbiAgICAgICAgICAgICAgcy5zZXRQb3dlcigyKTtcbiAgICAgICAgICAgICAgdGhpcy5zaG90Q2hlY2tDb3VudGVyID0gLXRoaXMuc2hvdEludGVydmFsO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNpbmdsZVNob3RBcnJheS5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICB0aGlzLnNpbmdsZVNob3RBcnJheVtpXS5saWZlIDw9IDAgJiZcbiAgICAgICAgICAgICAgdGhpcy5zaW5nbGVTaG90QXJyYXlbaSArIDFdLmxpZmUgPD0gMFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHJhZENXID0gZGVnVG9SYWQoMjgwKTtcbiAgICAgICAgICAgICAgY29uc3QgcmFkQ0NXID0gZGVnVG9SYWQoMjYwKTtcbiAgICAgICAgICAgICAgdGhpcy5zaW5nbGVTaG90QXJyYXlbaV0uc2V0KHRoaXMucG9zaXRpb24ueCwgdGhpcy5wb3NpdGlvbi55KTtcbiAgICAgICAgICAgICAgdGhpcy5zaW5nbGVTaG90QXJyYXlbaV0uc2V0VmVjdG9yRnJvbUFuZ2xlKHJhZENXKTtcbiAgICAgICAgICAgICAgdGhpcy5zaW5nbGVTaG90QXJyYXlbaSArIDFdLnNldCh0aGlzLnBvc2l0aW9uLngsIHRoaXMucG9zaXRpb24ueSk7XG4gICAgICAgICAgICAgIHRoaXMuc2luZ2xlU2hvdEFycmF5W2kgKyAxXS5zZXRWZWN0b3JGcm9tQW5nbGUocmFkQ0NXKTtcbiAgICAgICAgICAgICAgdGhpcy5zaG90Q2hlY2tDb3VudGVyID0gLXRoaXMuc2hvdEludGVydmFsO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5zaG90Q2hlY2tDb3VudGVyKys7XG5cbiAgICB0aGlzLmRyYXcoKTtcbiAgICB0aGlzLmN0eC5nbG9iYWxBbHBoYSA9IDEuMDtcbiAgfVxuXG4gIHNldENvbWluZyhzdGFydFg6IG51bWJlciwgc3RhcnRZOiBudW1iZXIsIGVuZFg6IG51bWJlciwgZW5kWTogbnVtYmVyKSB7XG4gICAgdGhpcy5pc0NvbWluZyA9IHRydWU7XG4gICAgdGhpcy5jb21pbmdTdGFydCA9IERhdGUubm93KCk7XG4gICAgdGhpcy5wb3NpdGlvbi5zZXQoc3RhcnRYLCBzdGFydFkpO1xuICAgIHRoaXMuY29taW5nU3RhcnRQb3NpdGlvbiA9IG5ldyBQb3NpdGlvbihzdGFydFgsIHN0YXJ0WSk7XG4gICAgdGhpcy5jb21pbmdFbmRQb3NpdGlvbiA9IG5ldyBQb3NpdGlvbihlbmRYLCBlbmRZKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ2hhcmFjdGVyLCBDaGFyYWN0ZXJPcHQgfSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgeyBFeHBsb3Npb24gfSBmcm9tIFwiLi9leHBsb3Npb25cIjtcblxuZXhwb3J0IGNsYXNzIFNob3QgZXh0ZW5kcyBDaGFyYWN0ZXIge1xuICBzcGVlZDogbnVtYmVyID0gNztcbiAgcG93ZXI6IG51bWJlciA9IDE7XG4gIHRhcmdldEFycmF5OiBDaGFyYWN0ZXJbXSA9IFtdO1xuICBleHBsb3Npb25BcnJheTogRXhwbG9zaW9uW10gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgICBpbWFnZVBhdGg6IHN0cmluZyxcbiAgICBvcHRpb246IENoYXJhY3Rlck9wdFxuICApIHtcbiAgICBzdXBlcihjdHgsIGltYWdlUGF0aCwgb3B0aW9uKTtcbiAgfVxuXG4gIHNldCh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIHRoaXMucG9zaXRpb24uc2V0KHgsIHkpO1xuICAgIHRoaXMubGlmZSA9IDE7XG4gIH1cblxuICBzZXRTcGVlZChzcGVlZDogbnVtYmVyKSB7XG4gICAgaWYgKHNwZWVkIDw9IDApIHJldHVybjtcbiAgICB0aGlzLnNwZWVkID0gc3BlZWQ7XG4gIH1cblxuICBzZXRQb3dlcihwb3dlcjogbnVtYmVyKSB7XG4gICAgaWYgKHBvd2VyIDw9IDApIHJldHVybjtcbiAgICB0aGlzLnBvd2VyID0gcG93ZXI7XG4gIH1cblxuICBzZXRUYXJnZXRzKHRhcmdldHM6IENoYXJhY3RlcltdKSB7XG4gICAgdGhpcy50YXJnZXRBcnJheSA9IHRhcmdldHM7XG4gIH1cblxuICBzZXRFeHBsb3Npb25zKGV4cGxvc2lvbnM6IEV4cGxvc2lvbltdKSB7XG4gICAgdGhpcy5leHBsb3Npb25BcnJheSA9IGV4cGxvc2lvbnM7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgaWYgKHRoaXMubGlmZSA8PSAwKSByZXR1cm47XG4gICAgaWYgKFxuICAgICAgdGhpcy5wb3NpdGlvbi55ICsgdGhpcy5oZWlnaHQgPCAwIHx8XG4gICAgICB0aGlzLnBvc2l0aW9uLnkgLSB0aGlzLmhlaWdodCA+IHRoaXMuY3R4LmNhbnZhcy5oZWlnaHRcbiAgICApIHtcbiAgICAgIHRoaXMubGlmZSA9IDA7XG4gICAgfVxuICAgIHRoaXMucG9zaXRpb24ueCArPSB0aGlzLnZlY3Rvci54ICogdGhpcy5zcGVlZDtcbiAgICB0aGlzLnBvc2l0aW9uLnkgKz0gdGhpcy52ZWN0b3IueSAqIHRoaXMuc3BlZWQ7XG5cbiAgICBpZiAodGhpcy5saWZlID4gMCkge1xuICAgICAgdGhpcy50YXJnZXRBcnJheS5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICAgIGlmICh0LmxpZmUgPD0gMCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBkaXN0ID0gdGhpcy5wb3NpdGlvbi5kaXN0YW5jZSh0LnBvc2l0aW9uKTtcbiAgICAgICAgaWYgKGRpc3QgPD0gKHRoaXMud2lkdGggKyB0LndpZHRoKSAvIDQpIHtcbiAgICAgICAgICB0LmxpZmUgLT0gdGhpcy5wb3dlcjtcbiAgICAgICAgICBpZiAodC5saWZlIDw9IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZSBvZiB0aGlzLmV4cGxvc2lvbkFycmF5KSB7XG4gICAgICAgICAgICAgIGlmICghZS5saWZlKSB7XG4gICAgICAgICAgICAgICAgZS5zZXQodC5wb3NpdGlvbi54LCB0LnBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5saWZlID0gMDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMucm90YXRpb25EcmF3KCk7XG4gIH1cbn1cbiIsInR5cGUgU2NlbmUgPSAodGltZTogbnVtYmVyKSA9PiB2b2lkO1xuXG5leHBvcnQgY2xhc3MgU2NlbmVNYW5hZ2VyIHtcbiAgc2NlbmU6IHsgW2tleTogc3RyaW5nXTogU2NlbmUgfSA9IHt9O1xuICBhY3RpdmVTY2VuZTogU2NlbmUgfCBudWxsID0gbnVsbDtcbiAgc3RhcnRUaW1lOiBudW1iZXIgPSBEYXRlLm5vdygpO1xuICBmcmFtZTogbnVtYmVyID0gLTE7XG5cbiAgYWRkKG5hbWU6IHN0cmluZywgdXBkYXRlRnVuY3Rpb246IFNjZW5lKSB7XG4gICAgdGhpcy5zY2VuZVtuYW1lXSA9IHVwZGF0ZUZ1bmN0aW9uO1xuICB9XG5cbiAgdXNlKG5hbWU6IHN0cmluZykge1xuICAgIGlmICghKG5hbWUgaW4gdGhpcy5zY2VuZSkpIHJldHVybjtcbiAgICB0aGlzLmFjdGl2ZVNjZW5lID0gdGhpcy5zY2VuZVtuYW1lXTtcbiAgICB0aGlzLnN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgdGhpcy5mcmFtZSA9IC0xO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGNvbnN0IGFjdGl2ZVRpbWUgPSAoRGF0ZS5ub3coKSAtIHRoaXMuc3RhcnRUaW1lKSAvIDEwMDA7XG4gICAgdGhpcy5hY3RpdmVTY2VuZT8uKGFjdGl2ZVRpbWUpO1xuICAgIHRoaXMuZnJhbWUrKztcbiAgfVxufVxuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJAY2hhcnNldCBcXFwidXRmLThcXFwiO1xcblxcbioge1xcbiAgbWFyZ2luOiAwcHg7XFxuICBwYWRkaW5nOiAwcHg7XFxufVxcblxcbmh0bWwsXFxuYm9keSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1NTU1O1xcbiAgY29sb3I6ICNmMGYwZjA7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBwYWRkaW5nLXRvcDogMTBweDtcXG59XFxuXFxuY2FudmFzIHtcXG4gIG1hcmdpbjogMHB4IGF1dG87XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9zdHlsZS5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUEsZ0JBQWdCOztBQUVoQjtFQUNFLFdBQVc7RUFDWCxZQUFZO0FBQ2Q7O0FBRUE7O0VBRUUseUJBQXlCO0VBQ3pCLGNBQWM7RUFDZCxrQkFBa0I7RUFDbEIsV0FBVztFQUNYLFlBQVk7RUFDWixnQkFBZ0I7RUFDaEIsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIkBjaGFyc2V0IFxcXCJ1dGYtOFxcXCI7XFxuXFxuKiB7XFxuICBtYXJnaW46IDBweDtcXG4gIHBhZGRpbmc6IDBweDtcXG59XFxuXFxuaHRtbCxcXG5ib2R5IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM1NTU1NTU7XFxuICBjb2xvcjogI2YwZjBmMDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHBhZGRpbmctdG9wOiAxMHB4O1xcbn1cXG5cXG5jYW52YXMge1xcbiAgbWFyZ2luOiAwcHggYXV0bztcXG59XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoY29udGVudCwgXCJ9XCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtb2R1bGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfaV0pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzJdID0gXCJcIi5jb25jYXQobWVkaWFRdWVyeSwgXCIgYW5kIFwiKS5jb25jYXQoaXRlbVsyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKSB7XG4gIHZhciBfaXRlbSA9IF9zbGljZWRUb0FycmF5KGl0ZW0sIDQpLFxuICAgICAgY29udGVudCA9IF9pdGVtWzFdLFxuICAgICAgY3NzTWFwcGluZyA9IF9pdGVtWzNdO1xuXG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8IFwiXCIpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxudmFyIHN0eWxlc0luRG9tID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5Eb20ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5Eb21baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzSW5Eb20ucHVzaCh7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHZhciBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBhdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChvYmouY3NzLCBcIn1cIikgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHNjcmlwdFVybCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5zcmNcblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiaW1wb3J0IGFwaSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgICAgICAgaW1wb3J0IGNvbnRlbnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgZGVmYXVsdCBjb250ZW50LmxvY2FscyB8fCB7fTsiLCJpbXBvcnQgeyBpbml0IH0gZnJvbSBcIi4vYXBwXCI7XG5pbXBvcnQgXCIuL3N0eWxlLmNzc1wiO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgaW5pdCk7XG4iLCJpbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuL2NhbnZhc1wiO1xuaW1wb3J0IHsgU3RhdGUsIFBsYXllciwgU2hvdCwgQ2hhcmFjdGVyLCBFbmVteSwgRXhwbG9zaW9uIH0gZnJvbSBcIi4vY2hhcmFjdGVyc1wiO1xuaW1wb3J0IHsgU2NlbmVNYW5hZ2VyIH0gZnJvbSBcIi4vc2NlbmVcIjtcbmltcG9ydCB7IGFycmF5IH0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCB2aXBlckltYWdlIGZyb20gXCIuL2Fzc2V0cy9pbWFnZXMvdmlwZXIucG5nXCI7XG5pbXBvcnQgdmlwZXJTaG90SW1hZ2UgZnJvbSBcIi4vYXNzZXRzL2ltYWdlcy92aXBlcl9zaG90LnBuZ1wiO1xuaW1wb3J0IHZpcGVyU2luZ2xlU2hvdEltYWdlIGZyb20gXCIuL2Fzc2V0cy9pbWFnZXMvdmlwZXJfc2luZ2xlX3Nob3QucG5nXCI7XG5pbXBvcnQgZW5lbXlTbWFsbEltYWdlIGZyb20gXCIuL2Fzc2V0cy9pbWFnZXMvZW5lbXlfc21hbGwucG5nXCI7XG5pbXBvcnQgZW5lbXlTaG90SW1hZ2UgZnJvbSBcIi4vYXNzZXRzL2ltYWdlcy9lbmVteV9zaG90LnBuZ1wiO1xuXG5leHBvcnQgY29uc3QgaW5pdCA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzY3JlZW5cIikgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG5cbiAgY29uc3QgQ0FOVkFTX1dJRFRIID0gNjQwO1xuICBjb25zdCBDQU5WQVNfSEVJR0hUID0gNDgwO1xuXG4gIGNvbnN0IFNIT1RfTUFYX0NPVU5UID0gMTA7XG4gIGNvbnN0IEVORU1ZX01BWF9DT1VOVCA9IDEwO1xuICBjb25zdCBFTkVNWV9TSE9UX01BWF9DT1VOVCA9IDUwO1xuICBjb25zdCBFWFBMT1NJT05fTUFYX0NPVU5UID0gMTA7XG5cbiAgY29uc3Qgc3RhdGU6IFN0YXRlID0ge1xuICAgIGlzS2V5RG93bjoge1xuICAgICAgYXJyb3dMZWZ0OiBmYWxzZSxcbiAgICAgIGFycm93UmlnaHQ6IGZhbHNlLFxuICAgICAgYXJyb3dEb3duOiBmYWxzZSxcbiAgICAgIGFycm93VXA6IGZhbHNlLFxuICAgICAgejogZmFsc2UsXG4gICAgfSxcbiAgfTtcblxuICBjYW52YXMud2lkdGggPSBDQU5WQVNfV0lEVEg7XG4gIGNhbnZhcy5oZWlnaHQgPSBDQU5WQVNfSEVJR0hUO1xuICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpITtcblxuICBjb25zdCBjaGFyYWN0ZXJzOiBDaGFyYWN0ZXJbXSA9IFtdO1xuXG4gIGNvbnN0IHNob3RzID0gYXJyYXkoXG4gICAgU0hPVF9NQVhfQ09VTlQsXG4gICAgKCkgPT4gbmV3IFNob3QoY3R4LCB2aXBlclNob3RJbWFnZSwgeyB3OiAzMiwgaDogMzIgfSlcbiAgKTtcblxuICBjb25zdCBzaW5nbGVTaG90cyA9IGFycmF5KFxuICAgIFNIT1RfTUFYX0NPVU5UICogMixcbiAgICAoKSA9PiBuZXcgU2hvdChjdHgsIHZpcGVyU2luZ2xlU2hvdEltYWdlLCB7IHc6IDMyLCBoOiAzMiB9KVxuICApO1xuICBjaGFyYWN0ZXJzLnB1c2goLi4uc2hvdHMsIC4uLnNpbmdsZVNob3RzKTtcblxuICBjb25zdCBwbGF5ZXIgPSBuZXcgUGxheWVyKFxuICAgIHN0YXRlLFxuICAgIGN0eCxcbiAgICB2aXBlckltYWdlLFxuICAgIHsgdzogNjQsIGg6IDY0IH0sXG4gICAgeyBzaG90OiBzaG90cywgc2luZ2xlU2hvdDogc2luZ2xlU2hvdHMgfVxuICApO1xuICBjaGFyYWN0ZXJzLnB1c2gocGxheWVyKTtcbiAgcGxheWVyLnNldENvbWluZyhcbiAgICBDQU5WQVNfV0lEVEggLyAyLFxuICAgIENBTlZBU19IRUlHSFQsXG4gICAgQ0FOVkFTX1dJRFRIIC8gMixcbiAgICBDQU5WQVNfSEVJR0hUIC0gMTAwXG4gICk7XG5cbiAgY29uc3QgZW5lbXlTaG90cyA9IGFycmF5KFxuICAgIEVORU1ZX1NIT1RfTUFYX0NPVU5ULFxuICAgICgpID0+IG5ldyBTaG90KGN0eCwgZW5lbXlTaG90SW1hZ2UsIHsgdzogNDgsIGg6IDQ4IH0pXG4gICk7XG4gIGNoYXJhY3RlcnMucHVzaCguLi5lbmVteVNob3RzKTtcblxuICBjb25zdCBlbmVtaWVzID0gYXJyYXkoXG4gICAgRU5FTVlfTUFYX0NPVU5ULFxuICAgICgpID0+IG5ldyBFbmVteShjdHgsIGVuZW15U21hbGxJbWFnZSwgeyB3OiA0OCwgaDogNDggfSwgZW5lbXlTaG90cylcbiAgKTtcbiAgY2hhcmFjdGVycy5wdXNoKC4uLmVuZW1pZXMpO1xuXG4gIGNvbnN0IGV4cGxvc2lvbnMgPSBhcnJheShcbiAgICBFWFBMT1NJT05fTUFYX0NPVU5ULFxuICAgICgpID0+IG5ldyBFeHBsb3Npb24oY3R4LCA1MC4wLCAxNSwgMzAuMCwgMC4yNSlcbiAgKTtcblxuICBbLi4uc2hvdHMsIC4uLnNpbmdsZVNob3RzXS5mb3JFYWNoKChzKSA9PiB7XG4gICAgcy5zZXRUYXJnZXRzKGVuZW1pZXMpO1xuICAgIHMuc2V0RXhwbG9zaW9ucyhleHBsb3Npb25zKTtcbiAgfSk7XG5cbiAgY29uc3Qgc2NlbmUgPSBuZXcgU2NlbmVNYW5hZ2VyKCk7XG4gIHNjZW5lLmFkZChcImludHJvXCIsICh0aW1lKSA9PiB7XG4gICAgaWYgKHRpbWUgPiAyLjApIHtcbiAgICAgIHNjZW5lLnVzZShcImludmFkZVwiKTtcbiAgICB9XG4gIH0pO1xuICBzY2VuZS5hZGQoXCJpbnZhZGVcIiwgKHRpbWUpID0+IHtcbiAgICBpZiAoc2NlbmUuZnJhbWUgPT0gMCkge1xuICAgICAgZm9yIChjb25zdCBlIG9mIGVuZW1pZXMpIHtcbiAgICAgICAgaWYgKGUubGlmZSA8PSAwKSB7XG4gICAgICAgICAgZS5zZXQoQ0FOVkFTX1dJRFRIIC8gMiwgLWUuaGVpZ2h0LCAyLCBcImRlZmF1bHRcIik7XG4gICAgICAgICAgZS5zZXRWZWN0b3IoMC4wLCAxLjApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzY2VuZS5mcmFtZSA9PT0gMTAwKSB7XG4gICAgICBzY2VuZS51c2UoXCJpbnZhZGVcIik7XG4gICAgfVxuICB9KTtcbiAgc2NlbmUudXNlKFwiaW50cm9cIik7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChldmVudCkgPT4ge1xuICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICBjYXNlIFwiQXJyb3dMZWZ0XCI6XG4gICAgICAgIHN0YXRlLmlzS2V5RG93bi5hcnJvd0xlZnQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJBcnJvd1JpZ2h0XCI6XG4gICAgICAgIHN0YXRlLmlzS2V5RG93bi5hcnJvd1JpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiQXJyb3dVcFwiOlxuICAgICAgICBzdGF0ZS5pc0tleURvd24uYXJyb3dVcCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkFycm93RG93blwiOlxuICAgICAgICBzdGF0ZS5pc0tleURvd24uYXJyb3dEb3duID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwielwiOlxuICAgICAgICBzdGF0ZS5pc0tleURvd24ueiA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9KTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCAoZXZlbnQpID0+IHtcbiAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xuICAgICAgY2FzZSBcIkFycm93TGVmdFwiOlxuICAgICAgICBzdGF0ZS5pc0tleURvd24uYXJyb3dMZWZ0ID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkFycm93UmlnaHRcIjpcbiAgICAgICAgc3RhdGUuaXNLZXlEb3duLmFycm93UmlnaHQgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiQXJyb3dVcFwiOlxuICAgICAgICBzdGF0ZS5pc0tleURvd24uYXJyb3dVcCA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJBcnJvd0Rvd25cIjpcbiAgICAgICAgc3RhdGUuaXNLZXlEb3duLmFycm93RG93biA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ6XCI6XG4gICAgICAgIHN0YXRlLmlzS2V5RG93bi56ID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9KTtcblxuICBsZXQgc3RhcnRUaW1lOiBudW1iZXI7XG4gIChmdW5jdGlvbiB3YWl0KCkge1xuICAgIGNvbnN0IGlzUmVhZHkgPSBjaGFyYWN0ZXJzLmV2ZXJ5KChjKSA9PiBjLnJlYWR5KCkpO1xuICAgIGlmICghaXNSZWFkeSkge1xuICAgICAgc2V0VGltZW91dCh3YWl0LCAxMDApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIHJlbmRlcigpO1xuICB9KSgpO1xuXG4gIGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICBjdHguZ2xvYmFsQWxwaGEgPSAxLjA7XG4gICAgdXRpbC5kcmF3UmVjdChjdHgsIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCwgXCIjZWVlZWVlXCIpO1xuXG4gICAgc2NlbmUudXBkYXRlKCk7XG5cbiAgICBjaGFyYWN0ZXJzLmZvckVhY2goKGMpID0+IGMudXBkYXRlKCkpO1xuICAgIGV4cGxvc2lvbnMuZm9yRWFjaCgoZSkgPT4gZS51cGRhdGUoKSk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XG4gIH1cbn07XG4iLCJleHBvcnQgY29uc3QgZHJhd1JlY3QgPSAoXG4gIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcbiAgeDogbnVtYmVyLFxuICB5OiBudW1iZXIsXG4gIHdpZHRoOiBudW1iZXIsXG4gIGhlaWdodDogbnVtYmVyLFxuICBjb2xvcjogc3RyaW5nXG4pID0+IHtcbiAgaWYgKGNvbG9yICE9IG51bGwpIHtcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9yO1xuICB9XG4gIGNvbnRleHQuZmlsbFJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==